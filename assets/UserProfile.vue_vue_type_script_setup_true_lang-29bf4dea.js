import{d as D,I as N,H as R,J as T,a as U,bq as E,o as s,h as n,f as e,M,k as a,b as t,Q as l,R as f,a0 as u,V as y,c as P,e as C,d0 as j}from"./index-ab2bc521.js";import{V as I}from"./VAvatar-b89a8ade.js";import{V as L}from"./VImg-7ee89f5e.js";import{V as q}from"./VMenu-6ec9b18a.js";import{V as H}from"./VList-6df8630b.js";import{V as c,a as m,b as J}from"./VListItem-93d403d9.js";import{a as O,V as x}from"./VBadge-4f2da90f.js";const Q=C("hr",{class:"my-2"},null,-1),$={key:1,class:"my-2"},F=C("hr",{class:"my-2"},null,-1),ae=D({__name:"UserProfile",setup(G){var g;const b=N(),i=R(),o=i.getUser,d=i.getTenant,S=T("api"),z=((g=i.getUser)==null?void 0:g.merchants_count)>1,B=()=>{try{const p=S.auth.logout();i.logOut(),o.type=="admin"?b.push("/admin/login"):b.push("/login")}catch(p){console.log(p)}};return(p,k)=>{const h=j,_=U("RouterLink"),A=E("can");return s(),n(x,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:e(()=>[M((s(),n(I,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:e(()=>{var V;return[a(o).avatar?(s(),n(L,{key:1,src:a(o).avatar},null,8,["src"])):(s(),n(h,{key:0,initials:(V=a(o))==null?void 0:V.name},null,8,["initials"])),t(q,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:e(()=>[t(H,null,{default:e(()=>{var v,w;return[t(c,null,{prepend:e(()=>[t(O,{start:""},{default:e(()=>[t(x,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:e(()=>[t(I,{color:"primary",variant:"tonal"},{default:e(()=>{var r;return[a(o).avatar?(s(),n(L,{key:1,src:a(o).avatar},null,8,["src"])):(s(),n(h,{key:0,initials:(r=a(o))==null?void 0:r.name},null,8,["initials"]))]}),_:1})]),_:1})]),_:1})]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>[l(f(a(o).name),1)]),_:1}),t(J,null,{default:e(()=>[l(f(a(o).type),1)]),_:1})]),_:1}),Q,(v=a(d))!=null&&v.business_name&&a(o).type=="operator"?(s(),n(c,{key:0,link:""},{prepend:e(()=>[t(u,{class:"me-2",icon:"tabler-building",size:"22"})]),default:e(()=>[a(z)?(s(),n(_,{key:1,class:"ms-2 mb-1 w-20 truncate",to:{name:"tenants"}},{default:e(()=>{var r;return[l(f((r=a(d))==null?void 0:r.business_name),1)]}),_:1})):(s(),n(m,{key:0,class:"w-20 truncate"},{default:e(()=>{var r;return[l(f((r=a(d))==null?void 0:r.business_name),1)]}),_:1}))]),_:1})):y("",!0),(w=a(d))!=null&&w.business_name&&a(o).type=="operator"?(s(),P("hr",$)):y("",!0),a(i).getIsEmulation?(s(),n(c,{key:2,link:"",onCkick:k[0]||(k[0]=r=>a(i).setIsEmulation(0))},{prepend:e(()=>[t(u,{class:"me-2",icon:"tabler-home",size:"22"})]),default:e(()=>[t(_,{class:"truncate",to:{name:"admin-dashboard"}},{default:e(()=>[l(" Admin Dashboard ")]),_:1})]),_:1})):y("",!0),t(c,{link:""},{prepend:e(()=>[t(u,{class:"me-2",icon:"tabler-user",size:"22"})]),default:e(()=>[t(m,null,{default:e(()=>[l("Profile")]),_:1})]),_:1}),t(c,{link:""},{prepend:e(()=>[t(u,{class:"me-2",icon:"tabler-settings",size:"22"})]),default:e(()=>[t(m,null,{default:e(()=>[a(o).type=="merchant"?(s(),n(_,{key:0,class:"mb-1 w-20 truncate",to:{name:"dashboard-inventory-settings"}},{default:e(()=>[l(" Settings ")]),_:1})):(s(),n(_,{key:1,class:"mb-1 w-20 truncate",to:""},{default:e(()=>[l(" Settings ")]),_:1}))]),_:1})]),_:1}),F,t(c,{onClick:B},{prepend:e(()=>[t(u,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:e(()=>[t(m,null,{default:e(()=>[l("Logout")]),_:1})]),_:1})]}),_:1})]),_:1})]}),_:1})),[[A,"view-modifier"]])]),_:1})}}});export{ae as _};
