import{d as P,cX as C,J as E,r as m,w as _,a as T,k as s,o as n,c,b as i,y as F,F as y,z as L,e as h,R as f,cU as S,f as x,cR as V,a4 as $}from"./index-ab2bc521.js";import{_ as B}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";import{_ as k}from"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";const R={key:0,class:"flex p-4"},M={class:"font-medium text-lg"},N={class:"flex items-center gap-4"},j={key:1,class:"py-4"},z=P({__name:"PresetsManagement",props:{type:{}},setup(v){const u=v,t=C(),g=E("api"),l=m(!1),r=m([]),p=async()=>{var e;l.value=!0;try{const d=t.getSearchValue,o=await g.settings.presets.getPresetsList(u.type,{search:d});r.value=(e=o==null?void 0:o.data)==null?void 0:e.data}catch(d){console.log(d)}l.value=!1},b=async()=>{t.setIsDeleting(!0);try{await g.settings.presets.deletePreset(u.type,t.getIDToEdit);const e=u.type==="presets"?"Tip":"Delivery";V.fire({icon:"success",padding:"10px",background:"#fff",html:`<span class="text-sm">${e} Preset Deleted Successfully!</span>`}),p()}catch(e){console.log(e)}t.setIsDeletePopupVisible(!1),t.setIsDeleting(!1)},D=e=>{t.setIDToEdit(e),t.setIsDeletePopupVisible(!0)},I=e=>{t.setIDToEdit(e),t.setIsPopupVisible(!0)};return p(),_(()=>t.getIsGetData,p),_(()=>t.getSearchValue,p),_(()=>t.getIsDeleteRecord,b),(e,d)=>{const o=T("IconBtn");return s(l)&&!s(r).length?(n(),c("div",R,[i(s(B),{icon:"tail-spin",class:"w-8 h-8 mx-auto",color:"orange"})])):(n(),c(y,{key:1},[s(r).length?(n(),c("div",{key:0,class:F(["flex flex-col gap-4",{"opacity-70":s(l)}])},[(n(!0),c(y,null,L(s(r),a=>(n(),c("div",{class:"rounded px-4 py-3 border-[.5px] border-[#ECECEC] preset-shadow bg-white flex justify-between items-center",key:a.id},[h("div",M,f(a.type==="amount"?"$":"")+" "+f(("makeFLoat"in e?e.makeFLoat:s(S))(a.amount,a.type))+" "+f(a.type==="percentage"?"%":""),1),h("div",N,[i(o,{type:"button",class:"flex h-fit py-2 px-3 bg-[#E9F5FE] rounded",onClick:w=>I(a.id)},{default:x(()=>[i(s(k),{icon:"Edit",class:"w-5 h-5 m-auto"})]),_:2},1032,["onClick"]),i(o,{type:"button",class:"flex h-fit py-2 px-3 bg-danger rounded",onClick:w=>D(a.id)},{default:x(()=>[i(s(k),{icon:"Trash2",class:"w-5 h-5 m-auto text-white"})]),_:2},1032,["onClick"])])]))),128))],2)):(n(),c("div",j,"No Records found"))],64))}}});const U=$(z,[["__scopeId","data-v-b73e5877"]]);export{U as _};
