import{d as z,cP as O,J as B,r as v,w,o as e,c as s,k as l,b as x,F as D,z as I,y as R,V as u,bq as L,e as c,R as _,Q as C,h as M,f as S,cZ as q,M as E,cR as G}from"./index-ab2bc521.js";import{_ as J}from"./Pen.vue_vue_type_script_setup_true_lang-e939210f.js";import{_ as Q}from"./Pagination.vue_vue_type_script_setup_true_lang-6d9bdbde.js";import{_ as Z}from"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";import{_ as A}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";import{V as T}from"./VTooltip-1a5a6ea6.js";import"./VOverlay-39b4b039.js";import"./forwardRefs-6ea3df5c.js";import"./transition-99e7ac04.js";const H={key:0,class:"flex p-4"},K={key:1,class:"grid gap-4 max-h-[450px] overflow-auto"},U={key:0,class:"flex flex-col gap-4"},W={class:"flex flex-col justify-between h-full"},X={class:"font-medium text-base"},Y={class:"text-slate-400 text-xs"},m={class:"dots cursor-pointer",variant:"outlined"},f={key:0},tt={key:1},et={key:0},st={class:"h-fit my-auto flex items-center gap-4"},at={class:"text-xs text-slate-400 flex items-center gap-1"},nt={key:0},ct={key:1},ot={key:2},lt={key:3},ut={key:4},pt={class:"text-primary bg-secondary p-1 rounded"},_t={class:"flex gap-2"},rt=["onClick"],ht=["onClick"],gt={key:1,class:"text-slate-400"},Vt=z({__name:"index",setup(yt){const a=O(),V=B("api"),y=v(!1),k=v({}),d=v([]),b=v(1),F="PPS-POS";document.title=F+" | Inventory-Modifiers";const r=async()=>{var n,h;y.value=!0;try{const p=a.getSearchValue;p!=""&&(b.value=1);const o=await V.inventory.modifier.getModifiers({search:p,page:b.value,limit:6});d.value=await((n=o==null?void 0:o.data)==null?void 0:n.data),k.value=await((h=o==null?void 0:o.data)==null?void 0:h.meta)}catch(p){console.log(p)}y.value=!1},N=async()=>{a.setIsDeleting(!0);try{const n=await V.inventory.modifier.deleteModifier(a.getIDToEdit);G.fire({icon:"success",padding:"10px",background:"#fff",html:'<span class="text-sm">Modifier Deleted Successfully!</span>'}),r()}catch(n){console.log(n)}a.setIsDeleting(!1),a.setIsDeletePopupVisible(!1)},$=n=>{a.setIDToEdit(n),a.setIsPopupVisible(!0)},j=n=>{a.setIDToEdit(n),a.setIsDeletePopupVisible(!0)};return r(),w(()=>a.getSearchValue,()=>{r()}),w(()=>a.getIsGetData,()=>{r()}),w(()=>a.getIsDeleteRecord,()=>{N()}),(n,h)=>{const p=J,o=L("can");return e(),s("section",null,[l(y)?(e(),s("div",H,[x(l(A),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])):(e(),s("div",K,[l(d).length?(e(),s("div",U,[(e(!0),s(D,null,I(l(d),t=>{var P;return e(),s("div",{class:"px-4 py-2 flex justify-between items-center gap-4 bg-white border rounded",key:t.id},[c("div",W,[c("h3",X,_(t.name),1),c("span",Y,[C(_((P=t==null?void 0:t.options)==null?void 0:P.length)+" Options | ",1),c("span",m,[C(_((t==null?void 0:t.products_count)||0)+" Items ",1),(t==null?void 0:t.products_count)>0&&t.products.length>5?(e(),M(T,{key:0,"open-delay":"500",location:"top",activator:"parent"},{default:S(()=>[(e(!0),s(D,null,I(t.products.slice(0,5),(g,i)=>(e(),s("span",null,[c("span",null,_(g.name),1),i!=Object.keys(t.products.slice(0,5)).length-1?(e(),s("span",f,", ")):(e(),s("span",tt,", ... "))]))),256))]),_:2},1024)):(t==null?void 0:t.products_count)>0&&t.products.length<=5?(e(),M(T,{key:1,"open-delay":"500",location:"top",activator:"parent"},{default:S(()=>[(e(!0),s(D,null,I(t.products,(g,i)=>(e(),s("span",null,[c("span",null,_(g.name),1),i!=Object.keys(t.products).length-1?(e(),s("span",et,", ")):u("",!0)]))),256))]),_:2},1024)):u("",!0)])])]),c("div",st,[c("div",at,[t!=null&&t.forced?(e(),s("span",nt,"Forced")):u("",!0),t!=null&&t.forced&&(t!=null&&t.multiselect||t!=null&&t.countable)?(e(),s("span",ct,"-")):u("",!0),t!=null&&t.multiselect?(e(),s("span",ot," Multi-Select")):u("",!0),t!=null&&t.multiselect&&(t!=null&&t.countable)?(e(),s("span",lt,"-")):u("",!0),t!=null&&t.countable?(e(),s("span",ut,"Countable Options")):u("",!0),c("span",pt,_(("capitalize"in n?n.capitalize:l(q))(t.group)),1)]),c("div",_t,[E((e(),s("button",{type:"button",class:"bg-[#E9F5FE] rounded-sm",onClick:g=>$(t.id)},[x(p)],8,rt)),[[o,"edit-modifier"]]),E((e(),s("button",{type:"button",class:"p-1 bg-danger rounded-sm",onClick:g=>j(t.id)},[x(Z,{icon:"Trash2",class:"w-4 h-4 text-white"})],8,ht)),[[o,"delete-modifier"]])])])])}),128))])):(e(),s("div",gt,"No Records Found!"))])),l(k)&&l(d).length?(e(),s("div",{key:2,class:R(["mt-8 flex m-auto",{"opacity-0":l(y)}])},[x(Q,{onPageChanged:h[0]||(h[0]=t=>{b.value=t,r()}),meta:l(k),class:"w-full sm:w-auto sm:mr-auto"},null,8,["meta"])],2)):u("",!0)])}}});export{Vt as default};
