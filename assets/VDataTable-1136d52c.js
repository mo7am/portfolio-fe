import{c3 as p,cw as B,p as w,bX as ee,v as O,J as _,c6 as Z,co as F,d2 as te,b as f,ci as C,dd as Ue,O as q,c7 as V,r as G,cn as se,cA as be,de as N,E as T,df as z,dg as U,d1 as ce,dh as We,di as ze,cv as Qe,c9 as R,dj as Je,F as L,a0 as Xe,Q as ie,W as de,R as Ye,c4 as Ze,d6 as qe,cG as et,cH as tt,cI as at,dk as lt,dl as M,dm as nt,w as fe,k as W,cO as rt}from"./index-ab2bc521.js";import{a as ut}from"./VSelect-9cc3df93.js";import{V as ae}from"./VCheckboxBtn-023236ba.js";const ot=p({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),he=Symbol.for("vuetify:data-table-pagination");function st(e){const l=B(e,"page",void 0,a=>+(a??1)),t=B(e,"itemsPerPage",void 0,a=>+(a??10));return{page:l,itemsPerPage:t}}function ct(e){const{page:l,itemsPerPage:t,itemsLength:a}=e,n=w(()=>t.value===-1?0:t.value*(l.value-1)),i=w(()=>t.value===-1?a.value:Math.min(a.value,n.value+t.value)),o=w(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));ee(()=>{l.value>o.value&&(l.value=o.value)});function u(v){t.value=v,l.value=1}function r(){l.value=Z(l.value+1,1,o.value)}function c(){l.value=Z(l.value-1,1,o.value)}function s(v){l.value=Z(v,1,o.value)}const m={page:l,itemsPerPage:t,startIndex:n,stopIndex:i,pageCount:o,itemsLength:a,nextPage:r,prevPage:c,setPage:s,setItemsPerPage:u};return O(he,m),m}function it(){const e=_(he);if(!e)throw new Error("Missing pagination!");return e}function dt(e){const{items:l,startIndex:t,stopIndex:a,itemsPerPage:n}=e;return{paginatedItems:w(()=>n.value<=0?l.value:l.value.slice(t.value,a.value))}}const Se=p({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),ve=F()({name:"VDataTableFooter",props:Se(),setup(e,l){let{slots:t}=l;const{t:a}=te(),{page:n,pageCount:i,startIndex:o,stopIndex:u,itemsLength:r,itemsPerPage:c,setItemsPerPage:s}=it(),m=w(()=>e.itemsPerPageOptions.map(v=>typeof v=="number"?{value:v,title:v===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(v)}:{...v,title:a(v.title)}));return()=>{var v;return f("div",{class:"v-data-table-footer"},[(v=t.prepend)==null?void 0:v.call(t),f("div",{class:"v-data-table-footer__items-per-page"},[f("span",null,[a(e.itemsPerPageText)]),f(ut,{items:m.value,modelValue:c.value,"onUpdate:modelValue":b=>s(Number(b)),density:"compact",variant:"outlined","hide-details":!0},null)]),f("div",{class:"v-data-table-footer__info"},[f("div",null,[a(e.pageText,r.value?o.value+1:0,u.value,r.value)])]),f("div",{class:"v-data-table-footer__pagination"},[f(C,{icon:e.firstIcon,variant:"plain",onClick:()=>n.value=1,disabled:n.value===1,"aria-label":a(e.firstPageLabel)},null),f(C,{icon:e.prevIcon,variant:"plain",onClick:()=>n.value=Math.max(1,n.value-1),disabled:n.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&f("span",{key:"page",class:"v-data-table-footer__page"},[n.value]),f(C,{icon:e.nextIcon,variant:"plain",onClick:()=>n.value=Math.min(i.value,n.value+1),disabled:n.value===i.value,"aria-label":a(e.nextPageLabel)},null),f(C,{icon:e.lastIcon,variant:"plain",onClick:()=>n.value=i.value,disabled:n.value===i.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),le=Ue({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:t,attrs:a}=l;const n=e.tag??"td";return f(n,q({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:V(e.height),width:V(e.width),left:V(e.fixedOffset||null)}},a),{default:()=>{var i;return[(i=t.default)==null?void 0:i.call(t)]}})}),ft=p({headers:{type:Array,default:()=>[]}},"DataTable-header"),xe=Symbol.for("vuetify:data-table-headers");function vt(e,l){const t=G([]),a=G([]);ee(()=>{var b,x,h;const i=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],o=i.flatMap((d,g)=>d.map(S=>({column:S,row:g}))),u=i.length,r={title:"",sortable:!1},c={...r,width:48};if((b=l==null?void 0:l.groupBy)!=null&&b.value.length){const d=o.findIndex(g=>{let{column:S}=g;return S.key==="data-table-group"});d<0?o.unshift({column:{...r,key:"data-table-group",title:"Group",rowspan:u},row:0}):o.splice(d,1,{column:{...r,...o[d].column},row:o[d].row})}if((x=l==null?void 0:l.showSelect)!=null&&x.value){const d=o.findIndex(g=>{let{column:S}=g;return S.key==="data-table-select"});d<0?o.unshift({column:{...c,key:"data-table-select",rowspan:u},row:0}):o.splice(d,1,{column:{...c,...o[d].column},row:o[d].row})}if((h=l==null?void 0:l.showExpand)!=null&&h.value){const d=o.findIndex(g=>{let{column:S}=g;return S.key==="data-table-expand"});d<0?o.push({column:{...c,key:"data-table-expand",rowspan:u},row:0}):o.splice(d,1,{column:{...c,...o[d].column},row:o[d].row})}const s=se(u).map(()=>[]),m=se(u).fill(0);o.forEach(d=>{let{column:g,row:S}=d;const k=g.key??(typeof g.value=="string"?g.value:null),P=g.value??g.key??null;for(let y=S;y<=S+(g.rowspan??1)-1;y++)s[y].push({...g,key:k,value:P,fixedOffset:m[y],sortable:g.sortable??k!=null}),m[y]+=Number(g.width??0)}),s.forEach(d=>{for(let g=d.length;g--;g>=0)if(d[g].fixed){d[g].lastFixed=!0;return}});const v=new Set;t.value=s.map(d=>{const g=[];for(const S of d)v.has(S.key)||(v.add(S.key),g.push(S));return g}),a.value=s.at(-1)??[]});const n={headers:t,columns:a};return O(xe,n),n}function Q(){const e=_(xe);if(!e)throw new Error("Missing headers!");return e}const gt={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:l,value:t}=e;return new Set(t?[(a=l[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},we={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,currentPage:t,selected:a}=e;return we.select({items:t,value:l,selected:a})}},Pe={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,allItems:t,selected:a}=e;return Pe.select({items:t,value:l,selected:a})}},mt=p({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:be}},"DataTable-select"),pe=Symbol.for("vuetify:data-table-selection");function yt(e,l){let{allItems:t,currentPage:a}=l;const n=B(e,"modelValue",e.modelValue,d=>new Set(N(d).map(g=>{var S;return((S=t.value.find(k=>e.valueComparator(g,k.value)))==null?void 0:S.value)??g})),d=>[...d.values()]),i=w(()=>t.value.filter(d=>d.selectable)),o=w(()=>a.value.filter(d=>d.selectable)),u=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return gt;case"all":return Pe;case"page":default:return we}});function r(d){return N(d).every(g=>n.value.has(g.value))}function c(d){return N(d).some(g=>n.value.has(g.value))}function s(d,g){const S=u.value.select({items:d,value:g,selected:new Set(n.value)});n.value=S}function m(d){s([d],!r([d]))}function v(d){const g=u.value.selectAll({value:d,allItems:i.value,currentPage:o.value,selected:new Set(n.value)});n.value=g}const b=w(()=>n.value.size>0),x=w(()=>{const d=u.value.allSelected({allItems:i.value,currentPage:o.value});return!!d.length&&r(d)}),h={toggleSelect:m,select:s,selectAll:v,isSelected:r,isSomeSelected:c,someSelected:b,allSelected:x,showSelectAll:u.value.showSelectAll};return O(pe,h),h}function J(){const e=_(pe);if(!e)throw new Error("Missing selection!");return e}const bt=p({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),ke=Symbol.for("vuetify:data-table-sort");function ht(e){const l=B(e,"sortBy"),t=T(e,"mustSort"),a=T(e,"multiSort");return{sortBy:l,mustSort:t,multiSort:a}}function St(e){const{sortBy:l,mustSort:t,multiSort:a,page:n}=e,i=r=>{if(r.key==null)return;let c=l.value.map(m=>({...m}))??[];const s=c.find(m=>m.key===r.key);s?s.order==="desc"?t.value?s.order="asc":c=c.filter(m=>m.key!==r.key):s.order="desc":a.value?c=[...c,{key:r.key,order:"asc"}]:c=[{key:r.key,order:"asc"}],l.value=c,n&&(n.value=1)};function o(r){return!!l.value.find(c=>c.key===r.key)}const u={sortBy:l,toggleSort:i,isSorted:o};return O(ke,u),u}function xt(){const e=_(ke);if(!e)throw new Error("Missing sort!");return e}function wt(e,l,t){const a=te();return{sortedItems:w(()=>t.value.length?Pt(l.value,t.value,a.current.value,e.customKeySort):l.value)}}function Pt(e,l,t,a){const n=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return[...e].sort((i,o)=>{for(let u=0;u<l.length;u++){const r=l[u].key,c=l[u].order??"asc";if(c===!1)continue;let s=z(i.raw,r),m=z(o.raw,r);if(c==="desc"&&([s,m]=[m,s]),a!=null&&a[r]){const v=a[r](s,m);if(!v)continue;return v}if(s instanceof Date&&m instanceof Date)return s.getTime()-m.getTime();if([s,m]=[s,m].map(v=>v!=null?v.toString().toLocaleLowerCase():v),s!==m)return U(s)&&U(m)?0:U(s)?-1:U(m)?1:!isNaN(s)&&!isNaN(m)?Number(s)-Number(m):n.compare(s,m)}return 0})}const Te=p({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:ce,default:"$sortAsc"},sortDescIcon:{type:ce,default:"$sortDesc"},...We()},"VDataTableHeaders"),ge=F()({name:"VDataTableHeaders",props:Te(),setup(e,l){let{slots:t,emit:a}=l;const{toggleSort:n,sortBy:i,isSorted:o}=xt(),{someSelected:u,allSelected:r,selectAll:c,showSelectAll:s}=J(),{columns:m,headers:v}=Q(),{loaderClasses:b}=ze(e),x=(P,y)=>{if(!(!e.sticky&&!P.fixed))return{position:"sticky",zIndex:P.fixed?4:e.sticky?3:void 0,left:P.fixed?V(P.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${y})`:void 0}};function h(P){const y=i.value.find(D=>D.key===P.key);return y?y.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:d,backgroundColorStyles:g}=Qe(e,"color"),S=w(()=>({headers:v.value,columns:m.value,toggleSort:n,isSorted:o,sortBy:i.value,someSelected:u.value,allSelected:r.value,selectAll:c,getSortIcon:h,getFixedStyles:x})),k=P=>{let{column:y,x:D,y:A}=P;const X=y.key==="data-table-select"||y.key==="data-table-expand";return f(le,{tag:"th",align:y.align,class:["v-data-table__th",{"v-data-table__th--sortable":y.sortable,"v-data-table__th--sorted":o(y)},b.value],style:{width:V(y.width),minWidth:V(y.width),...x(y,A)},colspan:y.colspan,rowspan:y.rowspan,onClick:y.sortable?()=>n(y):void 0,lastFixed:y.lastFixed,noPadding:X},{default:()=>{var K;const H=`column.${y.key}`,j={column:y,selectAll:c,isSorted:o,toggleSort:n,sortBy:i.value,someSelected:u.value,allSelected:r.value,getSortIcon:h};return t[H]?t[H](j):y.key==="data-table-select"?((K=t["column.data-table-select"])==null?void 0:K.call(t,j))??(s&&f(ae,{modelValue:r.value,indeterminate:u.value&&!r.value,"onUpdate:modelValue":c},null)):f("div",{class:"v-data-table-header__content"},[f("span",null,[y.title]),y.sortable&&f(Xe,{key:"icon",class:"v-data-table-header__sort-icon",icon:h(y)},null),e.multiSort&&o(y)&&f("div",{key:"badge",class:["v-data-table-header__sort-badge",...d.value],style:g.value},[i.value.findIndex($=>$.key===y.key)+1])])}})};R(()=>f(L,null,[t.headers?t.headers(S.value):v.value.map((P,y)=>f("tr",null,[P.map((D,A)=>f(k,{column:D,x:A,y},null))])),e.loading&&f("tr",{class:"v-data-table-progress"},[f("th",{colspan:m.value.length},[f(Je,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),pt=p({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ie=Symbol.for("vuetify:data-table-group");function kt(e){return{groupBy:B(e,"groupBy")}}function Tt(e){const{groupBy:l,sortBy:t}=e,a=G(new Set),n=w(()=>l.value.map(c=>({...c,order:c.order??!1})).concat(t.value));function i(c){return a.value.has(c.id)}function o(c){const s=new Set(a.value);i(c)?s.delete(c.id):s.add(c.id),a.value=s}function u(c){function s(m){const v=[];for(const b of m.items)"type"in b&&b.type==="group"?v.push(...s(b)):v.push(b);return v}return s({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const r={sortByWithGroups:n,toggleGroup:o,opened:a,groupBy:l,extractRows:u,isGroupOpen:i};return O(Ie,r),r}function De(){const e=_(Ie);if(!e)throw new Error("Missing group!");return e}function It(e,l){if(!e.length)return[];const t=new Map;for(const a of e){const n=z(a.raw,l);t.has(n)||t.set(n,[]),t.get(n).push(a)}return t}function Ve(e,l){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=It(e,l[0]),i=[],o=l.slice(1);return n.forEach((u,r)=>{const c=l[0],s=`${a}_${c}_${r}`;i.push({depth:t,id:s,key:c,value:r,items:o.length?Ve(u,o,t+1,s):u,type:"group"})}),i}function Fe(e,l){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(l.has(a.id)||a.value==null)&&t.push(...Fe(a.items,l))):t.push(a);return t}function Dt(e,l,t){return{flatItems:w(()=>{if(!l.value.length)return e.value;const n=Ve(e.value,l.value.map(i=>i.key));return Fe(n,t.value)})}}const Vt=p({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Ft=F()({name:"VDataTableGroupHeaderRow",props:Vt(),setup(e,l){let{slots:t}=l;const{isGroupOpen:a,toggleGroup:n,extractRows:i}=De(),{isSelected:o,isSomeSelected:u,select:r}=J(),{columns:c}=Q(),s=w(()=>i([e.item]));return()=>f("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[c.value.map(m=>{var v,b;if(m.key==="data-table-group"){const x=a(e.item)?"$expand":"$next",h=()=>n(e.item);return((v=t["data-table-group"])==null?void 0:v.call(t,{item:e.item,count:s.value.length,props:{icon:x,onClick:h}}))??f(le,{class:"v-data-table-group-header-row__column"},{default:()=>[f(C,{size:"small",variant:"text",icon:x,onClick:h},null),f("span",null,[e.item.value]),f("span",null,[ie("("),s.value.length,ie(")")])]})}if(m.key==="data-table-select"){const x=o(s.value),h=u(s.value)&&!x,d=g=>r(s.value,g);return((b=t["data-table-select"])==null?void 0:b.call(t,{props:{modelValue:x,indeterminate:h,"onUpdate:modelValue":d}}))??f("td",null,[f(ae,{modelValue:x,indeterminate:h,"onUpdate:modelValue":d},null)])}return f("td",null,null)})])}}),Ct=p({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Ce=Symbol.for("vuetify:datatable:expanded");function Bt(e){const l=T(e,"expandOnClick"),t=B(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function a(u,r){const c=new Set(t.value);r?c.add(u.value):c.delete(u.value),t.value=c}function n(u){return t.value.has(u.value)}function i(u){a(u,!n(u))}const o={expand:a,expanded:t,expandOnClick:l,isExpanded:n,toggleExpand:i};return O(Ce,o),o}function Be(){const e=_(Ce);if(!e)throw new Error("foo");return e}const Ot=p({index:Number,item:Object,onClick:Function},"VDataTableRow"),_t=F()({name:"VDataTableRow",props:Ot(),setup(e,l){let{slots:t}=l;const{isSelected:a,toggleSelect:n}=J(),{isExpanded:i,toggleExpand:o}=Be(),{columns:u}=Q();R(()=>f("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&u.value.map((r,c)=>f(le,{align:r.align,fixed:r.fixed,fixedOffset:r.fixedOffset,lastFixed:r.lastFixed,noPadding:r.key==="data-table-select"||r.key==="data-table-expand",width:r.width},{default:()=>{var b,x;const s=e.item,m=`item.${r.key}`,v={index:e.index,item:s.raw,internalItem:s,value:z(s.columns,r.key),column:r,isSelected:a,toggleSelect:n,isExpanded:i,toggleExpand:o};return t[m]?t[m](v):r.key==="data-table-select"?((b=t["item.data-table-select"])==null?void 0:b.call(t,v))??f(ae,{disabled:!s.selectable,modelValue:a([s]),onClick:de(()=>n(s),["stop"])},null):r.key==="data-table-expand"?((x=t["item.data-table-expand"])==null?void 0:x.call(t,v))??f(C,{icon:i(s)?"$collapse":"$expand",size:"small",variant:"text",onClick:de(()=>o(s),["stop"])},null):Ye(v.value)}}))]))}}),Oe=p({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),me=F()({name:"VDataTableRows",props:Oe(),setup(e,l){let{emit:t,slots:a}=l;const{columns:n}=Q(),{expandOnClick:i,toggleExpand:o,isExpanded:u}=Be(),{isSelected:r,toggleSelect:c}=J(),{toggleGroup:s,isGroupOpen:m}=De(),{t:v}=te();return R(()=>{var b,x;return e.loading?f("tr",{class:"v-data-table-rows-loading",key:"loading"},[f("td",{colspan:n.value.length},[((b=a.loading)==null?void 0:b.call(a))??v(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?f("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[f("td",{colspan:n.value.length},[((x=a["no-data"])==null?void 0:x.call(a))??v(e.noDataText)])]):f(L,null,[e.items.map((h,d)=>{var k;if(h.type==="group")return a["group-header"]?a["group-header"]({index:d,item:h,columns:n.value,isExpanded:u,toggleExpand:o,isSelected:r,toggleSelect:c,toggleGroup:s,isGroupOpen:m}):f(Ft,{key:`group-header_${h.id}`,item:h},a);const g={index:d,item:h.raw,internalItem:h,columns:n.value,isExpanded:u,toggleExpand:o,isSelected:r,toggleSelect:c},S={...g,props:{key:`item_${h.key??h.index}`,onClick:i.value||e["onClick:row"]?P=>{var y;i.value&&o(h),(y=e["onClick:row"])==null||y.call(e,P,{item:h.raw,internalItem:h})}:void 0,index:d,item:h}};return f(L,null,[a.item?a.item(S):f(_t,S.props,a),u(h)&&((k=a["expanded-row"])==null?void 0:k.call(a,g))])})])}),{}}});const _e=p({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ze(),...qe(),...et(),...tt()},"VTable"),ye=F()({name:"VTable",props:_e(),setup(e,l){let{slots:t}=l;const{themeClasses:a}=at(e),{densityClasses:n}=lt(e);return R(()=>f(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},a.value,n.value,e.class],style:e.style},{default:()=>{var i,o,u;return[(i=t.top)==null?void 0:i.call(t),t.default?f("div",{class:"v-table__wrapper",style:{height:V(e.height)}},[f("table",null,[t.default()])]):(o=t.wrapper)==null?void 0:o.call(t),(u=t.bottom)==null?void 0:u.call(t)]}})),{}}}),At=p({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function $t(e,l,t,a){const n=e.returnObject?l:M(l,e.itemValue),i=M(l,e.itemSelectable,!0),o=a.reduce((u,r)=>(r.key!=null&&(u[r.key]=M(l,r.value)),u),{});return{type:"item",key:e.returnObject?M(l,e.itemValue):n,index:t,value:n,selectable:i,columns:o,raw:l}}function Et(e,l,t){return l.map((a,n)=>$t(e,a,n,t))}function Mt(e,l){return{items:w(()=>Et(e,e.items,l.value))}}function Nt(e){let{page:l,itemsPerPage:t,sortBy:a,groupBy:n,search:i}=e;const o=nt("VDataTable"),u=w(()=>({page:l.value,itemsPerPage:t.value,sortBy:a.value,groupBy:n.value,search:i.value}));fe(()=>i==null?void 0:i.value,()=>{l.value=1});let r=null;fe(u,()=>{be(r,u.value)||(o.emit("update:options",u.value),r=u.value)},{deep:!0,immediate:!0})}const Gt=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),Lt=p({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Rt(e,l,t){var u;const a=[],n=(t==null?void 0:t.default)??Gt,i=t!=null&&t.filterKeys?N(t.filterKeys):!1,o=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let r=0;r<e.length;r++){const[c,s=c]=N(e[r]),m={},v={};let b=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof c=="object"){const d=i||Object.keys(s);for(const g of d){const S=M(s,g,s),k=(u=t==null?void 0:t.customKeyFilter)==null?void 0:u[g];if(b=k?k(S,l,c):n(S,l,c),b!==-1&&b!==!1)k?m[g]=b:v[g]=b;else if((t==null?void 0:t.filterMode)==="every")continue e}}else b=n(c,l,c),b!==-1&&b!==!1&&(v.title=b);const x=Object.keys(v).length,h=Object.keys(m).length;if(!x&&!h||(t==null?void 0:t.filterMode)==="union"&&h!==o&&!x||(t==null?void 0:t.filterMode)==="intersection"&&(h!==o||!x))continue}a.push({index:r,matches:{...v,...m}})}return a}function Ht(e,l,t,a){const n=G([]),i=G(new Map),o=w(()=>a!=null&&a.transform?W(l).map(r=>[r,a.transform(r)]):W(l));ee(()=>{const r=typeof t=="function"?t():W(t),c=typeof r!="string"&&typeof r!="number"?"":String(r),s=Rt(o.value,c,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=W(l),v=[],b=new Map;s.forEach(x=>{let{index:h,matches:d}=x;const g=m[h];v.push(g),b.set(g.value,d)}),n.value=v,i.value=b});function u(r){return i.value.get(r.value)}return{filteredItems:n,filteredMatches:i,getMatches:u}}const jt=p({...Oe(),width:[String,Number],search:String,...Ct(),...pt(),...ft(),...At(),...mt(),...bt(),...Te(),..._e()},"DataTable"),Kt=p({...ot(),...jt(),...Lt(),...Se()},"VDataTable"),Qt=F()({name:"VDataTable",props:Kt(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{emit:t,slots:a}=l;const{groupBy:n}=kt(e),{sortBy:i,multiSort:o,mustSort:u}=ht(e),{page:r,itemsPerPage:c}=st(e),{columns:s,headers:m}=vt(e,{groupBy:n,showSelect:T(e,"showSelect"),showExpand:T(e,"showExpand")}),{items:v}=Mt(e,s),b=T(e,"search"),{filteredItems:x}=Ht(e,v,b,{transform:Y=>Y.columns}),{toggleSort:h}=St({sortBy:i,multiSort:o,mustSort:u,page:r}),{sortByWithGroups:d,opened:g,extractRows:S,isGroupOpen:k,toggleGroup:P}=Tt({groupBy:n,sortBy:i}),{sortedItems:y}=wt(e,x,d),{flatItems:D}=Dt(y,n,g),A=w(()=>D.value.length),{startIndex:X,stopIndex:H,pageCount:j,setItemsPerPage:K}=ct({page:r,itemsPerPage:c,itemsLength:A}),{paginatedItems:$}=dt({items:D,startIndex:X,stopIndex:H,itemsPerPage:c}),ne=w(()=>S($.value)),{isSelected:Ae,select:$e,selectAll:Ee,toggleSelect:Me,someSelected:Ne,allSelected:Ge}=yt(e,{allItems:v,currentPage:ne}),{isExpanded:Le,toggleExpand:Re}=Bt(e);Nt({page:r,itemsPerPage:c,sortBy:i,groupBy:n,search:b}),rt({VDataTableRows:{hideNoData:T(e,"hideNoData"),noDataText:T(e,"noDataText"),loading:T(e,"loading"),loadingText:T(e,"loadingText")}});const I=w(()=>({page:r.value,itemsPerPage:c.value,sortBy:i.value,pageCount:j.value,toggleSort:h,setItemsPerPage:K,someSelected:Ne.value,allSelected:Ge.value,isSelected:Ae,select:$e,selectAll:Ee,toggleSelect:Me,isExpanded:Le,toggleExpand:Re,isGroupOpen:k,toggleGroup:P,items:ne.value,groupedItems:$.value,columns:s.value,headers:m.value}));return R(()=>{const[Y]=ve.filterProps(e),[He]=ge.filterProps(e),[je]=me.filterProps(e),[Ke]=ye.filterProps(e);return f(ye,q({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Ke),{top:()=>{var E;return(E=a.top)==null?void 0:E.call(a,I.value)},default:()=>{var E,re,ue,oe;return a.default?a.default(I.value):f(L,null,[(E=a.colgroup)==null?void 0:E.call(a,I.value),f("thead",null,[f(ge,He,a)]),(re=a.thead)==null?void 0:re.call(a,I.value),f("tbody",null,[a.body?a.body(I.value):f(me,q(je,{items:$.value}),a)]),(ue=a.tbody)==null?void 0:ue.call(a,I.value),(oe=a.tfoot)==null?void 0:oe.call(a,I.value)])},bottom:()=>a.bottom?a.bottom(I.value):f(L,null,[f(ve,Y,{prepend:a["footer.prepend"]})])})}),{}}});export{Qt as V,jt as a,Se as b,kt as c,ht as d,st as e,vt as f,Tt as g,ct as h,Dt as i,yt as j,Bt as k,Nt as l,ot as m,ve as n,ge as o,St as p,me as q,ye as r,Mt as u};
