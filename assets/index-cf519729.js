import{_ as E}from"./Pagination.vue_vue_type_script_setup_true_lang-6d9bdbde.js";import{d as J,cP as O,J as Q,r as f,w as I,o as a,c as l,e as t,b as i,f as m,Q as k,k as o,h as U,F,z,Z,y as B,V as j,bq as K,R as _,M as P,cR as X}from"./index-ab2bc521.js";import{p as R}from"./placeholder-998ebc73.js";import{_ as V}from"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";import{_ as Y}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";import{V as ee,a as L}from"./VTabs-036eabe8.js";import{V as A}from"./VCardText-6d82c75f.js";import{b as H,V as te}from"./VWindowItem-181509cc.js";import{V as W}from"./VTooltip-1a5a6ea6.js";import"./forwardRefs-6ea3df5c.js";import"./createSimpleFunctional-c52b7322.js";import"./VOverlay-39b4b039.js";import"./transition-99e7ac04.js";import"./ssrBoot-93503f06.js";const se={class:"grid",style:{"margin-top":"-17px"}},ae={key:0,class:"flex p-4"},le={class:"grid products-grid gap-4 max-h-[450px] overflow-auto"},oe={class:"flex"},ie=["src"],ne={class:"flex flex-col"},ce={class:"flex justify-between items-center gap-2"},re={class:"dark:text-white"},de={key:0,class:"h-4 w-4 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor",fill:"#eab308","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},me=t("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),ue=t("path",{d:"M12 3l2.535 6.164h6.465l-5.25 4.75 1.982 6.097L12 15.25l-5.732 4.161 1.982-6.097-5.25-4.75h6.465z"},null,-1),fe=[me,ue],_e={class:"flex justify-between items-center gap-2"},ve={key:0,class:"text-slate-300 text-sm"},ge={key:1,class:"text-slate-300 text-sm"},he={class:"flex gap-2 items-center"},xe=["onClick"],pe=["onClick"],we={key:1,class:"text-slate-400"},ke={class:"grid products-grid gap-4 max-h-[450px] overflow-auto"},ye={class:"flex"},be=["src"],Pe={class:"flex flex-col"},Ve={class:"flex justify-between items-center gap-2"},Ce={class:"dark:text-white"},De=t("svg",{class:"h-4 w-4 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor",fill:"#eab308","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t("path",{d:"M12 3l2.535 6.164h6.465l-5.25 4.75 1.982 6.097L12 15.25l-5.732 4.161 1.982-6.097-5.25-4.75h6.465z"})],-1),Te={class:"flex justify-between items-center gap-2"},Ie={key:0,class:"text-slate-300 text-sm"},je={key:1,class:"text-slate-300 text-sm"},Ne={class:"flex gap-2 items-center"},$e=["onClick"],Me=["onClick"],Se={key:1,class:"text-slate-400"},Ze=J({__name:"index",setup(Ee){const r=O(),C=Q("api"),v=f(!1),g=f([]),h=f([]),D=f({}),T=f({}),y=f(1),b=f(1),d=f("all"),q="PPS-POS";document.title=q+" | Inventory-Products";const x=async()=>{var n,s;v.value=!0;try{const c=r.getSearchValue;c!=""&&(y.value=1);const e=await C.inventory.product.getProducts({search:c,page:y.value,limit:20});g.value=await((n=e==null?void 0:e.data)==null?void 0:n.data),D.value=await((s=e==null?void 0:e.data)==null?void 0:s.meta)}catch(c){console.log(c)}v.value=!1},p=async()=>{var n,s;v.value=!0;try{const c=r.getSearchValue;c!=""&&(b.value=1);const e=await C.inventory.product.getFavouriteProducts({search:c,page:b.value,limit:20});h.value=await((n=e==null?void 0:e.data)==null?void 0:n.data),T.value=await((s=e==null?void 0:e.data)==null?void 0:s.meta)}catch(c){console.log(c)}v.value=!1},G=async()=>{var n;r.setIsDeleting(!0);try{const s=await C.inventory.product.deleteProduct(r.getIDToEdit);s!==void 0&&((n=s==null?void 0:s.data)!=null&&n.status)&&(X.fire({icon:"success",padding:"10px",background:"#fff",html:'<span class="text-sm">Product Deleted Successfully!</span>'}),r.setIsDeletePopupVisible(!1),d.value=="all"&&(g.value.length==1&&y.value--,x()),d.value=="favourite"&&(h.value.length==1&&b.value--,p()))}catch(s){console.log(s)}r.setIsDeleting(!1)},N=n=>{r.setIDToEdit(n),r.setIsPopupVisible(!0)},$=n=>{r.setIDToEdit(n),r.setIsDeletePopupVisible(!0)};x(),p();const M=()=>{d.value=="all"?x():d.value=="favourite"&&p()};I(()=>r.getSearchValue,M),I(()=>r.getIsGetData,()=>{x(),p()}),I(()=>r.getIsDeleteRecord,()=>{G()});const S=n=>{d.value=n,M()};return(n,s)=>{const c=K("can");return a(),l("section",null,[t("div",se,[i(A,{class:"d-flex flex-column gap-2"},{default:m(()=>[t("div",null,[i(ee,{class:"v-tabs-pill px-6 py-4","fixed-tabs":""},{default:m(()=>[i(L,{class:"rounded-lg shadow bg-[#f8f7fa] dark:bg-darkmode-bg",onClick:s[0]||(s[0]=e=>S("all"))},{default:m(()=>[k("All")]),_:1}),k("    "),i(L,{class:"rounded-lg shadow bg-[#f8f7fa] dark:bg-darkmode-bg",onClick:s[1]||(s[1]=e=>S("favourite"))},{default:m(()=>[k("Favourites")]),_:1})]),_:1})])]),_:1}),i(A,null,{default:m(()=>[o(v)?(a(),l("div",ae,[i(o(Y),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])):(a(),U(te,{key:1,style:{"margin-top":"-10px"},class:"ms-3",modelValue:o(d),"onUpdate:modelValue":s[2]||(s[2]=e=>Z(d)?d.value=e:null)},{default:m(()=>[i(H,{value:"all"},{default:m(()=>[t("div",le,[o(g).length?(a(!0),l(F,{key:0},z(o(g),e=>{var u;return a(),l("div",{class:"relative grid product-grid p-2 shadow bg-white dark:bg-surface rounded gap-2 w-full",key:e.id},[t("div",oe,[t("img",{src:e!=null&&e.image?e.image:o(R),class:"w-[40px] h-[40px] rounded m-auto"},null,8,ie)]),t("div",ne,[t("div",ce,[t("h3",re,_((e==null?void 0:e.name)||"N/A"),1),e.is_favorite?(a(),l("svg",de,fe)):j("",!0)]),t("div",_e,[(e==null?void 0:e.categories.length)>1?(a(),l("span",ve,[k(_(e==null?void 0:e.categories[0].name)+" ... ",1),i(W,{"open-delay":"500",location:"top",activator:"parent"},{default:m(()=>[t("span",null,_(e==null?void 0:e.categories.map(w=>w==null?void 0:w.name).join(", ")),1)]),_:2},1024)])):(a(),l("span",ge,_((u=e==null?void 0:e.categories[0])==null?void 0:u.name),1)),t("div",he,[P((a(),l("button",{class:"cursor-pointer",type:"button",onClick:w=>N(e.id)},[i(V,{icon:"Edit",class:"w-4 h-4"})],8,xe)),[[c,"edit-product"]]),P((a(),l("button",{class:"cursor-pointer",type:"button",onClick:w=>$(e.id)},[i(V,{icon:"Trash2",class:"w-4 h-4 text-danger"})],8,pe)),[[c,"delete-product"]])])])])])}),128)):(a(),l("div",we,"No Records Found!"))])]),_:1}),i(H,{value:"favourite"},{default:m(()=>[t("div",ke,[o(h).length?(a(!0),l(F,{key:0},z(o(h),e=>(a(),l("div",{class:"relative grid product-grid p-2 shadow bg-white dark:bg-surface rounded gap-2 w-full",key:e.id},[t("div",ye,[t("img",{src:e!=null&&e.image?e.image:o(R),class:"w-[40px] h-[40px] rounded m-auto"},null,8,be)]),t("div",Pe,[t("div",Ve,[t("h3",Ce,_((e==null?void 0:e.name)||"N/A"),1),De]),t("div",Te,[(e==null?void 0:e.categories.length)>1?(a(),l("span",Ie,[k(_(e==null?void 0:e.categories[0].name)+" ... ",1),i(W,{"open-delay":"500",location:"top",activator:"parent"},{default:m(()=>[t("span",null,_(e==null?void 0:e.categories.map(u=>u==null?void 0:u.name).join(", ")),1)]),_:2},1024)])):(a(),l("span",je,_(e==null?void 0:e.categories[0].name),1)),t("div",Ne,[P((a(),l("button",{class:"cursor-pointer",type:"button",onClick:u=>N(e.id)},[i(V,{icon:"Edit",class:"w-4 h-4"})],8,$e)),[[c,"edit-product"]]),P((a(),l("button",{class:"cursor-pointer",type:"button",onClick:u=>$(e.id)},[i(V,{icon:"Trash2",class:"w-4 h-4 text-danger"})],8,Me)),[[c,"delete-product"]])])])])]))),128)):(a(),l("div",Se,"No Records Found!"))])]),_:1})]),_:1},8,["modelValue"]))]),_:1})]),o(d)=="all"&&o(D)&&o(g).length?(a(),l("div",{key:0,class:B(["mt-8 flex m-auto",{"opacity-0":o(v)}]),style:{"margin-left":"15px"}},[i(E,{onPageChanged:s[3]||(s[3]=e=>{y.value=e,x()}),meta:o(D),class:"w-full sm:w-auto sm:mr-auto"},null,8,["meta"])],2)):j("",!0),o(d)=="favourite"&&o(T)&&o(h).length?(a(),l("div",{key:1,class:B(["mt-8 flex m-auto",{"opacity-0":o(v)}]),style:{"margin-left":"15px"}},[i(E,{onPageChanged:s[4]||(s[4]=e=>{b.value=e,p()}),meta:o(T),class:"w-full sm:w-auto sm:mr-auto"},null,8,["meta"])],2)):j("",!0)])}}});export{Ze as default};
