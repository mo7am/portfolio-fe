import{_ as P}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";import{_ as y}from"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";import{_ as S}from"./Pagination.vue_vue_type_script_setup_true_lang-6d9bdbde.js";import{d as R,cX as $,J as B,r as g,bm as T,w as h,a as F,bq as L,o as a,c as i,k as t,b as u,y as N,F as z,z as j,e as x,R as M,M as b,h as v,f as w,V as q,cR as k,a4 as G,db as J}from"./index-ab2bc521.js";const O={key:0,class:"flex p-4"},X={class:"capitalize"},A={class:"font-medium text-base"},H={class:"flex gap-4 items-center"},K={key:1,class:"py-4"},Q={key:2,class:"mt-4 flex"},U=R({__name:"Reasons",setup(D){const e=$(),m=B("api"),l=g(!1),r=g([]),f=g({}),_=T({limit:6,page:1}),d=async()=>{var s,p;l.value=!0;try{const c=e.getSearchValue;c!=""&&(_.page=1);const o=await m.settings.reasons.getReasonsList({..._,search:c});r.value=(s=o==null?void 0:o.data)==null?void 0:s.data,f.value=(p=o==null?void 0:o.data)==null?void 0:p.meta}catch(c){console.log(c)}l.value=!1},C=s=>{e.setIDToEdit(s),e.setIsPopupVisible(!0)},I=s=>{e.setIDToEdit(s),e.setIsDeletePopupVisible(!0)},E=async()=>{e.setIsDeleting(!0);try{await m.settings.reasons.deleteReason(e.getIDToEdit),k.fire({icon:"success",padding:"10px",background:"#fff",html:'<span class="text-sm">Reason Deleted Successfully!</span>'}),r.value.length===1&&_.page--,d()}catch(s){s.response.status==400&&k.fire({icon:"error",padding:"10px",background:"#fff",html:`<span class="text-sm">${s.response.data.message}!</span>`}),console.log(s)}e.setIsDeletePopupVisible(!1),e.setIsDeleting(!1)};return d(),h(()=>e.getIsGetData,d),h(()=>e.getSearchValue,d),h(()=>e.getIsDeleteRecord,E),(s,p)=>{const c=F("IconBtn"),o=L("can");return a(),i("section",null,[t(l)&&!t(r).length?(a(),i("div",O,[u(t(P),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])):(a(),i("div",{key:1,class:N(["flex flex-col gap-4 p-4 bg-white shadow-sm rounded",{"opacity-70":t(l)}])},[t(r).length?(a(!0),i(z,{key:0},j(t(r),n=>(a(),i("div",{class:"rounded px-4 py-3 border-[.5px] border-[#ECECEC] receipt-shadow bg-white flex justify-between items-center",key:n.id},[x("div",X,[x("h4",A,M(n==null?void 0:n.reason),1)]),x("div",H,[b((a(),v(c,{type:"button",class:"flex h-fit py-2 px-3 bg-[#E9F5FE] rounded",onClick:V=>C(n.id)},{default:w(()=>[u(t(y),{icon:"Edit",class:"w-5 h-5 m-auto"})]),_:2},1032,["onClick"])),[[o,"edit-reason"]]),b((a(),v(c,{type:"button",class:"flex h-fit py-2 px-3 bg-danger rounded",onClick:V=>I(n.id)},{default:w(()=>[u(t(y),{icon:"Trash2",class:"w-5 h-5 m-auto text-white"})]),_:2},1032,["onClick"])),[[o,"delete-reason"]])])]))),128)):(a(),i("div",K,"No Records found!")),t(f)?(a(),i("div",Q,[u(S,{onPageChanged:p[0]||(p[0]=n=>{t(_).page=n,d()}),meta:t(f),class:"w-full sm:w-auto sm:mr-auto"},null,8,["meta"])])):q("",!0)],2))])}}});const W=G(U,[["__scopeId","data-v-87832409"]]),te=R({__name:"index",setup(D){return J("Refund Reasons"),(e,m)=>{const l=W;return a(),v(l)}}});export{te as default};
