import{_ as P}from"./Pen.vue_vue_type_script_setup_true_lang-e939210f.js";import{_ as T}from"./Pagination.vue_vue_type_script_setup_true_lang-6d9bdbde.js";import{d as E,db as S,H as O,c_ as $,J as F,r as _,w as x,o as s,c as a,e as n,k as c,b as h,F as N,z as R,y as j,V as B,bq as L,R as l,Q as z,M as b,cR as M}from"./index-ab2bc521.js";import{_ as q}from"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";import{_ as G}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";const H={class:"grid"},J={key:0,class:"flex"},Q={key:1,class:"flex flex-col gap-4"},U={class:"flex flex-col justify-between h-full"},A={class:"font-medium text-base"},K={style:{color:"black"}},W={class:"text-black"},X={class:"text-slate-400 text-xs"},Y={class:"text-slate-400 text-xs"},Z={class:"h-fit my-auto flex items-center gap-4"},ee={class:"text-xs text-slate-400 flex items-center gap-1"},te={key:0,class:"status",style:{color:"rgb(36 215 24)"}},se={key:1,style:{color:"#ea5455"}},ae={class:"flex gap-2"},oe=["onClick"],ne=["onClick"],ce={key:2,class:"text-slate-400"},me=E({__name:"index",setup(ie){S("Operators");const k=O(),t=$(),v=F("api"),m=_(!1),g=_({}),r=_([]),p=_(1),w=_(6),D=async()=>{t.setIsDeleting(!0);try{await v.operator.deleteOperator(t.getIDToEdit)!==void 0&&(M.fire({icon:"success",padding:"10px",background:"#fff",html:'<span class="text-sm">Operator Deleted Successfully!</span>'}),t.setIsDeletePopupVisible(!1),r.value.length==1&&p.value--,d())}catch(o){console.log(o)}t.setIsDeleting(!1)},I=o=>{t.setIDToEdit(o),t.setIsPopupVisible(!0)},V=o=>{t.setIDToEdit(o),t.setIsDeletePopupVisible(!0)},d=async()=>{var o,u,f;m.value=!0;try{const i=t.getSearchValue;i!=""&&(p.value=1);const e=await v.operator.getOperators({search:i,page:p.value,limit:w.value,merchant_id:(o=k.getTenant)==null?void 0:o.id});r.value=await((u=e==null?void 0:e.data)==null?void 0:u.data),g.value=await((f=e==null?void 0:e.data)==null?void 0:f.meta)}catch(i){console.log(i)}m.value=!1};return d(),x(()=>t.getSearchValue,()=>{d()}),x(()=>t.getIsGetData,()=>{d()}),x(()=>t.getIsDeleteRecord,()=>{D()}),(o,u)=>{const f=P,i=L("can");return s(),a("section",null,[n("div",H,[c(m)?(s(),a("div",J,[h(c(G),{icon:"tail-spin",color:"orange",class:"w-6 h-6 mx-auto"})])):c(r).length?(s(),a("div",Q,[(s(!0),a(N,null,R(c(r),e=>{var y;return s(),a("div",{class:"px-4 py-2 flex justify-between items-center gap-4 bg-white border rounded",key:e.id},[n("div",U,[n("h3",A,[n("span",K,l(e.name),1),z(" | "),n("span",W,l((y=e.role)==null?void 0:y.name),1)]),n("span",X,l(e.email),1),n("span",Y,l(e.phone),1)]),n("div",Z,[n("div",ee,[e.status=="active"?(s(),a("div",te,l(e.status),1)):(s(),a("div",se,l(e.status),1))]),n("div",ae,[b((s(),a("button",{type:"button",class:"bg-[#E9F5FE] rounded-sm",onClick:C=>I(e.id)},[h(f)],8,oe)),[[i,"edit-user"]]),b((s(),a("button",{type:"button",class:"p-1 bg-danger rounded-sm",onClick:C=>V(e.id)},[h(q,{icon:"Trash2",class:"w-4 h-4 text-white"})],8,ne)),[[i,"delete-user"]])])])])}),128))])):(s(),a("div",ce,"No Records Found!"))]),c(g)&&c(r).length?(s(),a("div",{key:0,class:j(["mt-8 flex m-auto",{"opacity-0":c(m)}])},[h(T,{onPageChanged:u[0]||(u[0]=e=>{p.value=e,d()}),meta:c(g),class:"w-full sm:w-auto sm:mr-auto"},null,8,["meta"])],2)):B("",!0)])}}});export{me as default};
