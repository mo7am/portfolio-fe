import{d as T,J as A,r as m,db as B,a as F,o as V,c as S,e as l,b as s,k as a,G as y,y as c,f as t,$ as b,Q as p,R as u,W as P,Z as R,b6 as L,ci as j,h as N,V as $,cQ as z,cR as E}from"./index-ab2bc521.js";import{r as M,e as q}from"./validators-6509741b.js";import{_ as H}from"./AppTextField.vue_vue_type_style_index_0_lang-ff2427f7.js";import{a as Q,b as W}from"./auth-v1-top-shape-c5f58476.js";import{V as f}from"./VNodeRenderer-ca9ffdcc.js";import{_ as D}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";import{a as G,V as I}from"./VCard-c9d7cfad.js";import{V as w}from"./VCardText-6d82c75f.js";import{V as J}from"./VForm-bdbb87d6.js";import{V as K,a as h}from"./VRow-ba1da485.js";const U={class:"auth-wrapper d-flex align-center justify-center pa-4"},Z={class:"position-relative my-sm-16"},O={class:"flex w-[170px] h-[45px]"},X={class:"text-h4 mb-1"},Y={class:"text-capitalize"},ee=l("p",{class:"mb-0"},"Please enter email to reset password.",-1),ae={id:"email"},se={class:"text-sm text-danger mt-1"},fe=T({__name:"ForgetPassword",props:{isAdmin:{type:Boolean}},setup(te){const g=A("api"),n=m(""),d=m(!1),_=m(),r=m("");B("Forget Password");const x=e=>{z(e),r.value=""},k=async()=>{var e,i;if((i=await((e=_.value)==null?void 0:e.validate()))!=null&&i.valid){d.value=!0;try{const o=await g.auth.forgetPassword({email:n.value});r.value="",E.fire({icon:"success",padding:"10px",background:"#fff",html:`<span style="font-size:14px">${o.data.status}</span>`})}catch(o){o.response.status==400?r.value=o.response.data.email:o.response.status==500&&(r.value="Failed to authenticate on SMTP server with username"),console.log(o)}d.value=!1}};return(e,i)=>{const o=H,C=F("RouterLink");return V(),S("div",U,[l("div",Z,[s(a(f),{nodes:("h"in e?e.h:a(y))("div",{innerHTML:a(Q)}),class:c(["auth-v1-top-shape d-none d-sm-block",e.isAdmin?"text-black":"text-primary"])},null,8,["nodes","class"]),s(a(f),{nodes:("h"in e?e.h:a(y))("div",{innerHTML:a(W)}),class:c(["auth-v1-bottom-shape d-none d-sm-block",e.isAdmin?"text-black":"text-primary"])},null,8,["nodes","class"]),s(I,{class:"auth-card pa-4","max-width":"448"},{default:t(()=>[s(G,{class:"justify-center"},{prepend:t(()=>[l("div",O,[s(a(f),{class:"w-[170px] h-[46px]",nodes:a(b).app.logo},null,8,["nodes"])])]),_:1}),s(w,{class:"pt-1"},{default:t(()=>[l("h4",X,[p(" Welcome to "),l("span",Y,u(a(b).app.title),1),p("! 👋🏻 ")]),ee]),_:1}),s(w,{class:"pb-0"},{default:t(()=>[s(J,{ref_key:"refForm",ref:_,onSubmit:P(k,["prevent"])},{default:t(()=>[s(K,null,{default:t(()=>[s(h,{cols:"12"},{default:t(()=>[l("div",ae,[s(o,{onKeyup:i[0]||(i[0]=v=>x("email")),modelValue:a(n),"onUpdate:modelValue":i[1]||(i[1]=v=>R(n)?n.value=v:null),label:"Email",type:"email",placeholder:"e.g. example@email.com",rules:["requiredValidator"in e?e.requiredValidator:a(M),"emailValidator"in e?e.emailValidator:a(q)]},null,8,["modelValue","rules"])]),l("div",{class:"v-input__details",style:L(a(r)!=""?"display:block":"display:none")},[l("div",se,u(a(r)),1)],4)]),_:1}),s(h,{cols:"12"},{default:t(()=>[s(j,{block:"",color:e.isAdmin?"black":"primary",class:c([{"text-white":e.isAdmin},"w-full min-w-[368px]"]),type:"submit"},{default:t(()=>[p(u(a(d)?"":"Submit")+" ",1),a(d)?(V(),N(a(D),{key:0,icon:"tail-spin",color:"white",class:"block w-4 h-4"})):$("",!0)]),_:1},8,["color","class"])]),_:1}),s(h,{cols:"12",class:"text-center flex justify-center text-base"},{default:t(()=>[s(C,{class:c(["w-fit flex justify-center items-center gap-1 text-sm",e.isAdmin?"text-black":"text-primary"]),to:e.isAdmin?{name:"admin-login"}:{name:"login"}},{default:t(()=>[p(" Back to Login ")]),_:1},8,["class","to"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])])}}});export{fe as _};
