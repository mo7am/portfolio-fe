import{_ as Ce}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-01c6a1ae.js";import{_ as me}from"./AppTextField.vue_vue_type_style_index_0_lang-ff2427f7.js";import{_ as $e}from"./Pagination.vue_vue_type_script_setup_true_lang-6d9bdbde.js";import{d as B,r as g,J as he,I as fe,H as _e,p as Y,a as Ve,bq as se,o as n,c as V,h as p,f as s,e as o,b as t,k as e,Z as N,ci as j,a0 as E,Q as D,y as ee,R as $,V as R,M as oe,F as K,d3 as Q,d5 as A,d9 as Se,cS as ge,w as Te,z as ae,bm as Oe,db as Le}from"./index-ab2bc521.js";import{_ as J}from"./field.vue_vue_type_script_setup_true_lang-02dd1b1e.js";import{V as Me}from"./VDataTableServer-3c5957d4.js";import{V as ze}from"./VSelect-9cc3df93.js";import{V as pe}from"./VTooltip-1a5a6ea6.js";import{V as S,a as Re,b as De}from"./VCard-c9d7cfad.js";import{V as L}from"./VCardText-6d82c75f.js";import{V as q}from"./VCheckbox-70ac096e.js";import{V as Ae}from"./VDialog-4ab52581.js";import{V as U,a as T}from"./VRow-ba1da485.js";import{q as X,_ as Be}from"./MoreBtn.vue_vue_type_script_setup_true_lang-320a0215.js";import{V as Ie}from"./VMenu-6ec9b18a.js";import{V as te}from"./VList-6df8630b.js";import{V as be,a as ve,b as Fe}from"./VListItem-93d403d9.js";import{V as ye}from"./VAvatar-b89a8ade.js";import{p as Pe}from"./placeholder-998ebc73.js";import{_ as W}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";import"./VTextField-bc742ce7.js";import"./transition-99e7ac04.js";import"./forwardRefs-6ea3df5c.js";import"./VImg-7ee89f5e.js";import"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";import"./ReceiptTemplate.vue_vue_type_script_setup_true_lang-4ab734f1.js";import"./VDataTable-1136d52c.js";import"./VCheckboxBtn-023236ba.js";import"./VSelectionControl-e6ec7db0.js";import"./dialog-transition-6ea18c7a.js";import"./VOverlay-39b4b039.js";import"./createSimpleFunctional-c52b7322.js";import"./ssrBoot-93503f06.js";import"./VDivider-b868c04b.js";const Ne={class:"flex flex-col gap-4",style:{padding:"10px"}},Ee={class:"flex flex-wrap gap-4 justify-between"},We={class:"search-style d-flex"},je={class:"capitalize"},Ue=o("span",null,"See Details",-1),Ye=o("span",null,"Download Transaction",-1),He={class:"demo-space-x"},Ge={key:0},Je={key:1},qe={key:2},Ke={key:3},Qe=o("br",null,null,-1),Xe={id:"section-to-print",style:{height:"100%"}},Ze=o("br",null,null,-1),et={key:0},tt=o("br",null,null,-1),st=o("div",{style:{"background-color":"#e5e7eb",padding:"5px","font-weight":"bold","margin-right":"-4px"}}," Customer Receipt ",-1),ot=o("br",null,null,-1),at={key:1},nt=o("br",null,null,-1),lt=o("div",{style:{"background-color":"#e5e7eb",padding:"5px","font-weight":"bold","margin-right":"-4px"}}," Merchant Receipt ",-1),rt=o("br",null,null,-1),it={key:2},ct=o("br",null,null,-1),ut=o("div",{style:{"background-color":"#e5e7eb",padding:"5px","font-weight":"bold","margin-right":"-4px"}}," Kitchen-bar Receipt ",-1),dt=o("br",null,null,-1),pt={key:3},mt=o("br",null,null,-1),ht=o("div",{style:{"background-color":"#e5e7eb",padding:"5px","font-weight":"bold","margin-right":"-4px"}}," Terminal Receipt ",-1),ft=o("br",null,null,-1),_t=o("div",{class:"text-center"}," There Is No Active Receipts Found To Print! ",-1),gt=B({__name:"EcommerceInvoiceTable",props:{transactions:{type:Array,default:[]},isLoadingTransactions:{type:Boolean,default:!1},metaObj:{type:Object,default:{}}},emits:["selectCurrentOrder","callOnSearch","callNextPage"],setup(k,{emit:r}){const l=g(""),f=k,c=he("api"),u=fe(),a=g(null),y=g(!1),_=g(!1),m=g(!1),h=g(!1),x=g(!1),P=g(!1),C=g(),w=g(null),v=_e().getPosSettings;g(6),g(1),g(),g();const O=[{title:"ID",key:"id",sortable:!0},{title:"Payment Method",key:"payment_method",sortable:!0},{title:"Status",key:"status",sortable:!0},{title:"Total",key:"total_amount",sortable:!0},{title:"Date",key:"date",sortable:!0},{title:"Actions",key:"actions",sortable:!1}];Y(()=>()=>[{title:"Download",value:"download",prependIcon:"tabler-download"},{title:"Edit",value:"edit",prependIcon:"tabler-pencil"},{title:"Duplicate",value:"duplicate",prependIcon:"tabler-layers-intersect"}]);const I=M=>{const i=M.toLowerCase();if(i==="pending")return"warning";if(i==="confirmed")return"success";if(i==="refunded")return"primary";if(i==="canceled")return"danger"},F=()=>{u.push("/dashboard/sales-list")},H=M=>{u.push({name:"dashboard-sales-list",query:{id:M}})},ne=async M=>{try{P.value=!0;const i=await c.order.getReciptsByOrderStatus(M);C.value=i==null?void 0:i.data,P.value=!1}catch(i){console.log(i)}},xe=async(M,i,Z)=>{y.value=!1,_.value=!1,m.value=!1,h.value=!1,x.value=!0,a.value=Z,w.value=i,ne(M)};return(M,i)=>{const Z=me,le=Ve("IconBtn"),we=Ce,ke=se("print");return n(),V(K,null,[k.transactions?(n(),p(S,{key:0,id:"invoice-list"},{default:s(()=>[o("div",Ne,[o("div",Ee,[o("div",We,[t(Z,{type:"text",modelValue:e(l),"onUpdate:modelValue":i[0]||(i[0]=b=>N(l)?l.value=b:null),isSearchBox:!0,placeholder:"Type here...",class:"w-[200px] sm:w-[250px]",onKeyup:i[1]||(i[1]=b=>M.$emit("callOnSearch",e(l)))},null,8,["modelValue"])]),t(j,{primary:"",class:"text-white mt-auto",onClick:F},{default:s(()=>[t(E,{size:"20",icon:"tabler-eye",class:"mr-1"}),D(" View All Orders ")]),_:1})]),o("div",null,[t(e(Me),{items:f.transactions,itemsLength:f.transactions.length,headers:O,class:ee(["text-no-wrap",{"opacity-70":f.isLoadingTransactions&&f.transactions.length}])},{"item.payment_method":s(({item:b})=>[o("span",je,$(b.payment_method.replace("-"," ")),1)]),"item.total_amount":s(({item:b})=>[o("span",null,"$"+$(b.total_amount.toFixed(2)),1)]),"item.status":s(({item:b})=>[t(ze,{label:"",size:"small",class:"text-capitalize",color:I(b.status)},{default:s(()=>[D($(b==null?void 0:b.status),1)]),_:2},1032,["color"])]),"item.actions":s(({item:b})=>[t(le,{onClick:G=>H(b.order.id)},{default:s(()=>[t(E,{icon:"tabler-eye"}),t(pe,{"open-delay":"500",location:"top",activator:"parent"},{default:s(()=>[Ue]),_:1})]),_:2},1032,["onClick"]),t(le,{onClick:G=>xe(b.order.status,b.order,b)},{default:s(()=>[t(E,{icon:"tabler-download",class:"text-danger"}),t(pe,{"open-delay":"500",location:"top",activator:"parent"},{default:s(()=>[Ye]),_:1})]),_:2},1032,["onClick"])]),bottom:s(()=>[]),_:1},8,["items","itemsLength","class"]),k.metaObj&&f.transactions.length?(n(),V("div",{key:0,class:ee(["mt-8 flex m-auto",{"opacity-0":f.isLoadingTransactions}])},[t($e,{onPageChanged:i[2]||(i[2]=b=>M.$emit("callNextPage",b)),meta:k.metaObj,class:"w-full sm:w-auto sm:mr-auto"},null,8,["meta"])],2)):R("",!0)])])]),_:1})):R("",!0),t(Ae,{modelValue:e(x),"onUpdate:modelValue":i[8]||(i[8]=b=>N(x)?x.value=b:null),width:"550"},{default:s(()=>[t(we,{onClick:i[3]||(i[3]=b=>x.value=!1)}),t(S,{class:"md:py-8 md:px-5"},{default:s(()=>{var b,G,re,ie;return[t(Re,{class:"text-center"},{default:s(()=>[t(De,{class:"text-h3"},{default:s(()=>[D(" Choose Receipts To Print ")]),_:1})]),_:1}),(b=e(C))!=null&&b.customer||(G=e(C))!=null&&G.merchant||(re=e(C))!=null&&re.terminal||(ie=e(C))!=null&&ie["kitchen-bar"]?(n(),p(L,{key:0},{default:s(()=>[o("div",He,[e(C).customer!=null?(n(),V("div",Ge,[t(q,{label:"Customer",modelValue:e(y),"onUpdate:modelValue":i[4]||(i[4]=z=>N(y)?y.value=z:null)},null,8,["modelValue"])])):R("",!0),e(C).merchant!=null?(n(),V("div",Je,[t(q,{label:"Merchant",modelValue:e(_),"onUpdate:modelValue":i[5]||(i[5]=z=>N(_)?_.value=z:null)},null,8,["modelValue"])])):R("",!0),e(C)["kitchen-bar"]!=null?(n(),V("div",qe,[t(q,{label:"Kitchen-bar",modelValue:e(h),"onUpdate:modelValue":i[6]||(i[6]=z=>N(h)?h.value=z:null)},null,8,["modelValue"])])):R("",!0),e(C).terminal!=null?(n(),V("div",Ke,[t(q,{label:"Terminal",modelValue:e(m),"onUpdate:modelValue":i[7]||(i[7]=z=>N(m)?m.value=z:null)},null,8,["modelValue"])])):R("",!0)]),Qe,!e(y)&&!e(_)&&!e(m)&&!e(h)?(n(),p(j,{key:0,color:"warning",disabled:!0},{default:s(()=>[D("Print")]),_:1})):oe((n(),p(j,{key:1,color:"warning"},{default:s(()=>[D("Print")]),_:1})),[[ke,"#section-to-print"]]),o("div",Xe,[o("div",null,[Ze,t(L,null,{default:s(()=>{var z,ce,ue,de;return[e(y)?(n(),V("div",et,[tt,st,ot,t(J,{type:"customer",receipt:(z=e(C))==null?void 0:z.customer,order:e(w),transaction:e(a),posSetting:e(v),class:"md:w-[265px] mx-auto lg:w-auto"},null,8,["receipt","order","transaction","posSetting"])])):R("",!0),e(_)?(n(),V("div",at,[nt,lt,rt,t(J,{type:"merchant",receipt:(ce=e(C))==null?void 0:ce.merchant,order:e(w),transaction:e(a),posSetting:e(v),class:"md:w-[265px] mx-auto lg:w-auto"},null,8,["receipt","order","transaction","posSetting"])])):R("",!0),e(h)?(n(),V("div",it,[ct,ut,dt,t(J,{type:"kitchen-bar",receipt:(ue=e(C))==null?void 0:ue["kitchen-bar"],order:e(w),transaction:e(a),posSetting:e(v),class:"md:w-[265px] mx-auto lg:w-auto"},null,8,["receipt","order","transaction","posSetting"])])):R("",!0),e(m)?(n(),V("div",pt,[mt,ht,ft,t(J,{type:"terminal",receipt:(de=e(C))==null?void 0:de.terminal,order:e(w),transaction:e(a),posSetting:e(v),class:"md:w-[265px] mx-auto lg:w-auto"},null,8,["receipt","order","transaction","posSetting"])])):R("",!0)]}),_:1})])])]),_:1})):(n(),p(L,{key:1},{default:s(()=>[_t]),_:1}))]}),_:1})]),_:1},8,["modelValue"])],64)}}});const bt={class:"text-lg text-no-wrap font-weight-medium"},vt=o("p",{class:"mb-2"},"Sales of this month",-1),yt={class:"text-h4 font-weight-medium text-primary mb-1"},xt=B({__name:"EcommerceCongratulationsJohn",props:{revenueThisMonth:{type:Number,default:0}},setup(k){const r=k,l=_e().getUser;return(f,c)=>(n(),p(S,null,{default:s(()=>[t(U,{"no-gutters":""},{default:s(()=>[t(T,{cols:"8"},{default:s(()=>[t(L,null,{default:s(()=>[o("h6",bt," Hello "+$(e(l).name)+"ðŸŽ‰ ",1),vt,o("h4",yt," $"+$(r.revenueThisMonth.toFixed(2)),1)]),_:1})]),_:1})]),_:1})]),_:1}))}}),wt=o("div",{class:"mb-n2"},[o("h5",{class:"text-h5"}," 82.5k "),o("span",{class:"text-disabled text-sm"},"Expenses")],-1),kt=o("div",{class:"text-sm text-center clamp-text text-disabled mt-3"}," $21k Expenses more than last month ",-1),Ct=B({__name:"EcommerceExpensesRadialBarCharts",setup(k){const r=Q(),l=[78],f=Y(()=>{const c=r.current.value.colors,u=r.current.value.variables;return{chart:{sparkline:{enabled:!0},parentHeightOffset:0,type:"radialBar"},colors:[c.warning],plotOptions:{radialBar:{offsetY:0,startAngle:-90,endAngle:90,hollow:{size:"65%"},track:{strokeWidth:"45%",background:`rgba(${A(String(u["border-color"]))},${u["border-opacity"]})`},dataLabels:{name:{show:!1},value:{fontSize:"22px",color:`rgba(${A(c["on-background"])},${u["high-emphasis-opacity"]})`,fontWeight:600,offsetY:-5}}}},grid:{show:!1,padding:{bottom:5}},stroke:{lineCap:"round"},labels:["Progress"],responsive:[{breakpoint:1442,options:{chart:{height:140},plotOptions:{radialBar:{dataLabels:{value:{fontSize:"18px"}},hollow:{size:"60%"}}}}},{breakpoint:1370,options:{chart:{height:120}}},{breakpoint:1280,options:{chart:{height:150},plotOptions:{radialBar:{dataLabels:{value:{fontSize:"18px"}},hollow:{size:"70%"}}}}},{breakpoint:960,options:{chart:{height:250},plotOptions:{radialBar:{hollow:{size:"70%"},dataLabels:{value:{fontSize:"18px"}}}}}}]}});return(c,u)=>{const a=X;return n(),p(S,null,{default:s(()=>[t(L,null,{default:s(()=>[wt,t(a,{options:e(f),series:l,type:"radialBar",height:155},null,8,["options"]),kt]),_:1})]),_:1})}}}),$t={class:"d-flex flex-column"},Vt=o("div",{class:"mb-auto"},[o("h5",{class:"text-h5 text-no-wrap"},"Created Orders"),o("span",{class:"text-sm"},"Total number of orders")],-1),St={class:"text-h3 mb-1"},Tt={class:"text-success font-weight-medium"},Ot=B({__name:"EcommerceGeneratedLeads",props:{ordersCountThisMonth:{type:Number,default:0},percentageRevenueWithLastMonth:{type:Number,default:0},ordersCount:{type:Number,default:0},popularCategories:{type:Array,default:[]}},setup(k){const r=k,l=Q(),f=Se(),c=r.popularCategories.length>0?r.popularCategories.map(a=>a.products_count):[1,1,1,1],u=Y(()=>{const a=l.current.value.colors,y=l.current.value.variables,_=`rgba(${A(a.success)},0.2)`,m=`rgba(${A(a["on-background"])},${y["high-emphasis-opacity"]})`,h={donut:{series1:a.success,series2:"#28c76fb3",series3:"#28c76f80",series4:_}};return{chart:{parentHeightOffset:0,type:"donut"},labels:r.popularCategories.length>0?r.popularCategories.map(x=>x.name):["","","",""],colors:[h.donut.series1,h.donut.series2,h.donut.series3,h.donut.series4],stroke:{width:0},dataLabels:{enabled:!1,formatter(x){return`${Number.parseInt(x)}%`}},legend:{show:!1},tooltip:{theme:!1},grid:{padding:{top:0,bottom:-10,right:-20,left:-20}},states:{hover:{filter:{type:"none"}}},plotOptions:{pie:{donut:{size:"70%",labels:{show:!0,value:{fontSize:"1.375rem",fontFamily:"Public Sans",color:m,fontWeight:600,offsetY:-15,formatter(x){return`${Number.parseInt(x)}%`}},name:{offsetY:20,fontFamily:"Public Sans"},total:{show:!0,showAlways:!0,color:a.success,fontSize:".8125rem",label:"Monthly",fontFamily:"Public Sans",formatter(){return r.ordersCountThisMonth}}}}}},responsive:[{breakpoint:f.thresholds.value.lg,options:{chart:{width:200,height:160}}},{breakpoint:420,options:{chart:{width:150,height:120}}}]}});return(a,y)=>{const _=X;return n(),p(S,null,{default:s(()=>[t(L,{class:"d-flex justify-space-between"},{default:s(()=>[o("div",$t,[Vt,o("div",null,[o("h3",St,$(r.ordersCount),1),o("div",null,[t(E,{icon:"tabler-chevron-up",color:"success",class:"me-1"}),o("span",Tt,$((r.ordersCount>0?r.ordersCountThisMonth/r.ordersCount*100:0).toFixed(2))+"% ",1)])])]),o("div",null,[t(_,{options:e(u),series:e(c),height:110,width:130},null,8,["options","series"])])]),_:1})]),_:1})}}}),Lt={class:"flex flex-wrap px-4 justify-between gap-4 custom-style"},Mt={class:"text-h5 mb-6"},zt=o("div",{class:"d-flex flex-column mt-8"},[o("h3",{class:"font-weight-medium text-h3"},"$25,825"),o("p",null,[o("span",{class:"text-high-emphasis font-weight-medium me-1"},"Budget:"),o("span",null,"56,800")])],-1),Rt=B({__name:"EcommerceRevenueReport",props:{revenues:{type:Array,default:[]},year:{type:Number,default:new Date().getFullYear()}},emits:["callGetStatistics"],setup(k,{emit:r}){const l=k,f=r,c=g(l.year),u=g([]),a=g([]),y=Q();var _=l.revenues.length>0?l.revenues[0]:{},m;let h=new Date().getFullYear();for(a.value.push(h),m=1;m<10;m++)a.value.push(h-m);if(l.revenues.length>0){let d=function(O){for(let I in l.revenues)if(l.revenues[I].month===O)return l.revenues[I].price.toFixed(2);return 0};for(m=1;m<l.revenues.length;m++)l.revenues[m].price>_.price&&(_=l.revenues[m]);[1,2,3,4,5,6,7,8,9,10,11,12].forEach(O=>{u.value.push(d(O))})}const x=async d=>{c.value=d},P=ge(d=>{f("callGetStatistics",d,!0)},600);Te(c,d=>{P(d)});const C={bar:[{name:"Earning",data:u.value}],line:[{name:"Last Month",data:[20,10,30,16,24,5,40,23,28,5,30,28]},{name:"This Month",data:[50,40,60,46,54,35,70,53,58,35,60,28]}]},w=Y(()=>{const d=y.current.value.colors,v=y.current.value.variables,O=`rgba(${A(d["on-surface"])},${v["disabled-opacity"]})`,I=`rgba(${A(d["on-background"])},${v["high-emphasis-opacity"]})`,F=`rgba(${A(String(v["border-color"]))},${v["border-opacity"]})`;return{bar:{chart:{parentHeightOffset:0,stacked:!0,type:"bar",toolbar:{show:!1}},tooltip:{enabled:!1},plotOptions:{bar:{horizontal:!1,columnWidth:"45%",borderRadius:8,startingShape:"rounded",endingShape:"rounded"}},colors:[`rgba(${A(d.primary)}, 1)`,`rgba(${A(d.warning)}, 1)`],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:6,lineCap:"round",colors:[d.surface]},legend:{show:!0,horizontalAlign:"left",position:"top",fontFamily:"Public Sans",markers:{height:12,width:12,radius:12,offsetX:-3,offsetY:2},labels:{colors:I},itemMargin:{horizontal:5}},grid:{show:!1,padding:{bottom:-8,top:20}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],labels:{style:{fontSize:"13px",colors:O,fontFamily:"Public Sans"}},axisTicks:{show:!1},axisBorder:{show:!1}},yaxis:{labels:{offsetX:-16,style:{fontSize:"13px",colors:O,fontFamily:"Public Sans"}},min:0,max:(_==null?void 0:_.price)??300,tickAmount:5},responsive:[{breakpoint:1700,options:{plotOptions:{bar:{columnWidth:"43%"}}}},{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"52%"}}}},{breakpoint:1280,options:{plotOptions:{bar:{columnWidth:"38%"}}}},{breakpoint:1025,options:{plotOptions:{bar:{columnWidth:"70%"}},chart:{height:390}}},{breakpoint:991,options:{plotOptions:{bar:{columnWidth:"38%"}}}},{breakpoint:850,options:{plotOptions:{bar:{columnWidth:"48%"}}}},{breakpoint:449,options:{plotOptions:{bar:{columnWidth:"70%"}},chart:{height:360},xaxis:{labels:{offsetY:-5}}}},{breakpoint:394,options:{plotOptions:{bar:{columnWidth:"88%"}}}}],states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}}},line:{chart:{toolbar:{show:!1},zoom:{enabled:!1},type:"line"},stroke:{curve:"smooth",dashArray:[5,0],width:[1,2]},legend:{show:!1},colors:[F,d.primary],grid:{show:!1,borderColor:F,padding:{top:-30,bottom:-15,left:25}},markers:{size:0},xaxis:{labels:{show:!1},axisTicks:{show:!1},axisBorder:{show:!1}},yaxis:{show:!1},tooltip:{enabled:!1}}}});return(d,v)=>{const O=me,I=X;return n(),p(S,null,{default:s(()=>[t(U,{"no-gutters":""},{default:s(()=>[t(T,{cols:"12",sm:"8",lg:"8",class:ee(d.$vuetify.display.smAndUp?"border-e":"border-b")},{default:s(()=>[t(L,{class:"pe-2"},{default:s(()=>[o("div",Lt,[o("h5",Mt,"Revenue Report Of "+$(e(c)),1),t(j,{variant:"outlined",size:"small"},{append:s(()=>[t(E,{size:"16",icon:"tabler-chevron-down"})]),default:s(()=>[t(O,{style:{height:"40px",width:"112px"},modelValue:e(c),"onUpdate:modelValue":v[0]||(v[0]=F=>N(c)?c.value=F:null),type:"text",placeholder:"Year"},null,8,["modelValue"]),t(Ie,{activator:"parent"},{default:s(()=>[t(te,null,{default:s(()=>[(n(!0),V(K,null,ae(e(a),(F,H)=>(n(),p(be,{key:H,value:H,onClick:ne=>x(F)},{default:s(()=>[t(ve,null,{default:s(()=>[D($(F),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),t(I,{options:e(w).bar,series:C.bar,height:"312"},null,8,["options","series"])]),_:1})]),_:1},8,["class"]),t(T,{cols:"12",sm:"4"},{default:s(()=>[t(L,{class:"d-flex flex-column justify-center align-center text-center ps-2 h-100"},{default:s(()=>[zt,t(I,{options:e(w).line,series:C.line,height:"100"},null,8,["options","series"]),t(j,{class:"mt-4"},{default:s(()=>[D(" Increase Budget ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});const Dt={class:"text-sm text-disabled"},At={class:"d-flex align-center gap-4"},Bt={class:"d-flex flex-column"},It={class:"text-h5 font-weight-medium"},Ft={class:"text-sm"},Pt=B({__name:"EcommerceStatistics",props:{sales:{type:Number,default:0},revenue:{type:Number,default:0},productsCount:{type:Number,default:0},customersCount:{type:Number,default:0}},setup(k){const r=k,l=[{title:"Sales",stats:"$"+r.sales.toFixed(2),icon:"tabler-chart-pie-2",color:"primary"},{title:"Customers",stats:r.customersCount,icon:"tabler-users",color:"info"},{title:"Products",stats:r.productsCount,icon:"tabler-shopping-cart",color:"error"},{title:"Revenue",stats:"$"+r.revenue.toFixed(2),icon:"tabler-currency-dollar",color:"success"}],f=()=>{const c=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});let u=new Date(document.lastModified);const a=c.format(u);return"Last updated in "+u.toDateString()+" at "+a};return(c,u)=>(n(),p(S,{title:"Statistics"},{append:s(()=>[o("span",Dt,$(f()),1)]),default:s(()=>[t(L,{class:"pt-6"},{default:s(()=>[t(U,null,{default:s(()=>[(n(),V(K,null,ae(l,a=>t(T,{key:a.title,cols:"6",md:"3"},{default:s(()=>[o("div",At,[t(ye,{color:a.color,variant:"tonal",size:"42"},{default:s(()=>[t(E,{icon:a.icon},null,8,["icon"])]),_:2},1032,["color"]),o("div",Bt,[o("span",It,$(a.stats),1),o("span",Ft,$(a.title),1)])])]),_:2},1024)),64))]),_:1})]),_:1})]),_:1}))}}),Nt=o("div",null,[o("h5",{class:"text-h5"}," Profit "),o("span",{class:"text-disabled text-sm"},"Last Month")],-1),Et=o("div",{class:"d-flex align-center justify-space-between mt-3"},[o("h4",{class:"text-h4 text-center font-weight-medium"}," 624k "),o("span",{class:"text-sm text-success"}," +8.24% ")],-1),Wt=B({__name:"EcommerceTotalProfitLineCharts",setup(k){const r=Q(),l=[{data:[0,25,10,40,25,55]}],f=Y(()=>{const c=r.current.value.colors,u=r.current.value.variables;return{chart:{height:90,type:"line",parentHeightOffset:0,toolbar:{show:!1}},grid:{borderColor:`rgba(${A(String(u["border-color"]))},${u["border-opacity"]})`,strokeDashArray:6,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:-18,left:-4,right:7,bottom:-10}},colors:[c.info],stroke:{width:2},tooltip:{enabled:!1,shared:!1,intersect:!0,x:{show:!1}},xaxis:{labels:{show:!1},axisTicks:{show:!1},axisBorder:{show:!1}},yaxis:{labels:{show:!1}},markers:{size:3.5,fillColor:c.info,strokeColors:"transparent",strokeWidth:3.2,discrete:[{seriesIndex:0,dataPointIndex:5,fillColor:c.surface,strokeColor:c.info,size:5,shape:"circle"}],hover:{size:5.5}},responsive:[{breakpoint:960,options:{chart:{height:110}}}]}});return(c,u)=>{const a=X;return n(),p(S,null,{default:s(()=>[t(L,null,{default:s(()=>[Nt,t(a,{type:"line",options:e(f),series:l,height:80},null,8,["options"]),Et]),_:1})]),_:1})}}}),jt={class:"mt-n4 me-n2"},Ut={class:"d-flex align-center"},Yt={class:"font-weight-medium text-medium-emphasis me-2"},Ht=B({__name:"EcommercePopularProducts",props:{products:{type:Array,default:[]}},setup(k){const r=k,l=fe(),f=g([]);r.products.forEach(a=>{var y,_,m,h,x;if((y=a==null?void 0:a.product)!=null&&y.id){let P={avatarImg:(_=a.product)!=null&&_.image?a.product.image:Pe,title:(m=a.product)==null?void 0:m.name,subtitle:"Item: #"+((h=a.product)==null?void 0:h.id),stats:"$"+((x=a.product)==null?void 0:x.price)};f.value.push(P)}});const c=()=>{l.push("/dashboard/inventory/products")},u=[{title:"View All",value:"View All"}];return(a,y)=>{const _=Be,m=se("can");return n(),p(S,{title:"Popular Products",subtitle:"List of popular products sold in orders"},{append:s(()=>[oe((n(),V("div",jt,[t(_,{onCallShowMore:c,"menu-list":u})])),[[m,"view-product"]])]),default:s(()=>[t(L,null,{default:s(()=>[e(f).length>0?(n(),p(te,{key:0,class:"card-list"},{default:s(()=>[(n(!0),V(K,null,ae(e(f),h=>(n(),p(be,{key:h.title},{prepend:s(()=>[t(ye,{size:"46",rounded:"",image:h.avatarImg},null,8,["image"])]),append:s(()=>[o("div",Ut,[o("span",Yt,$(h.stats),1)])]),default:s(()=>[t(ve,{class:"font-weight-medium"},{default:s(()=>[D($(h.title),1)]),_:2},1024),t(Fe,{class:"text-disabled"},{default:s(()=>[D($(h.subtitle),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(n(),p(te,{key:1,class:"card-list"},{default:s(()=>[D(" No data available ")]),_:1}))]),_:1})]),_:1})}}}),Gt={class:"flex p-4"},Jt={class:"flex p-4"},qt={class:"flex p-4"},Kt={class:"flex p-4"},Qt={class:"flex p-4"},Xt=B({__name:"MerchantDashboard",setup(k){const r=he("api"),l=g(!1),f=g(),c=g(!1),u=g(!1),a=g({}),y=g([]),_=g({}),m=Oe({search:"",page:1,limit:5}),h=async()=>{var w;c.value=!0;try{const d=await r.dashboard.merchant.getTransactions(m);y.value=await(d==null?void 0:d.data.data),_.value=await((w=d==null?void 0:d.data)==null?void 0:w.meta)}catch(d){console.log(d)}c.value=!1},x=async(w=new Date().getFullYear(),d=!1)=>{l.value=!0,d&&(u.value=!0);try{f.value=w;const v=await r.dashboard.merchant.getStatistics({year:w});a.value=await(v==null?void 0:v.data)}catch(v){console.log(v)}l.value=!1,u.value=!1},P=ge(w=>{m.page=1,m.search=w,h()},600),C=async w=>{_.value.current_page<_.value.last_page&&(m.page=w,h())};return x(),h(),(w,d)=>{const v=gt,O=se("can");return n(),p(U,{class:"match-height pb-[6rem]"},{default:s(()=>[t(T,{cols:"12",md:"5",lg:"4"},{default:s(()=>[e(l)&&!e(u)?(n(),p(S,{key:0},{default:s(()=>[o("div",Gt,[t(e(W),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])]),_:1})):(n(),p(xt,{key:1,revenueThisMonth:e(a).revenueThisMonth},null,8,["revenueThisMonth"]))]),_:1}),t(T,{cols:"12",md:"7",lg:"8"},{default:s(()=>[e(l)&&!e(u)?(n(),p(S,{key:0,title:"Statistics"},{default:s(()=>[o("div",Jt,[t(e(W),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])]),_:1})):(n(),p(Pt,{key:1,isLoading:e(l),sales:e(a).sales,revenue:e(a).revenue,productsCount:e(a).productsCount,customersCount:e(a).customersCount,class:"h-100"},null,8,["isLoading","sales","revenue","productsCount","customersCount"]))]),_:1}),t(T,{cols:"12",lg:"4"},{default:s(()=>[t(U,null,{default:s(()=>[t(T,{cols:"12",lg:"6",md:"3",sm:"6"},{default:s(()=>[t(Ct)]),_:1}),t(T,{cols:"12",lg:"6",md:"3",sm:"6"},{default:s(()=>[t(Wt)]),_:1}),t(T,{cols:"12",md:"6",lg:"12"},{default:s(()=>[e(l)&&!e(u)?(n(),p(S,{key:0},{default:s(()=>[o("div",qt,[t(e(W),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])]),_:1})):(n(),p(Ot,{key:1,ordersCountThisMonth:e(a).ordersCountThisMonth,percentageRevenueWithLastMonth:e(a).percentageRevenueWithLastMonth,ordersCount:e(a).ordersCount,popularCategories:e(a).popularCategories},null,8,["ordersCountThisMonth","percentageRevenueWithLastMonth","ordersCount","popularCategories"]))]),_:1})]),_:1})]),_:1}),t(T,{cols:"12",lg:"8"},{default:s(()=>[e(l)&&e(u)||e(l)?(n(),p(S,{key:0},{default:s(()=>[o("div",Kt,[t(e(W),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])]),_:1})):(n(),p(Rt,{key:1,revenues:e(a).revenueEachMonthByYear,onCallGetStatistics:x,year:e(f)},null,8,["revenues","year"]))]),_:1}),t(T,{cols:"12",sm:"6",lg:"4"},{default:s(()=>[e(l)&&!e(u)?(n(),p(S,{key:0},{default:s(()=>[o("div",Qt,[t(e(W),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])]),_:1})):(n(),p(Ht,{key:1,products:e(a).popularProducts},null,8,["products"]))]),_:1}),oe((n(),p(T,{cols:"12",lg:"8"},{default:s(()=>[t(v,{transactions:e(y),onCallOnSearch:e(P),onCallNextPage:C,isLoadingTransactions:e(c),metaObj:e(_)},null,8,["transactions","onCallOnSearch","isLoadingTransactions","metaObj"])]),_:1})),[[O,"view-order"]])]),_:1})}}});const Rs=B({__name:"index",setup(k){return Le("Dashboard"),(r,l)=>{const f=Xt;return n(),p(f)}}});export{Rs as default};
