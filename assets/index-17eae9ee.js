import{d as F,db as E,r as x,bm as S,J as N,H as O,o as _,h,f as u,b as a,e as t,k as o,c as m,F as C,z as U,cQ as $,y as v,ci as P,Q as I,cR as B,R as T}from"./index-ab2bc521.js";import{_ as z}from"./AppSelect.vue_vue_type_script_setup_true_lang-3371fd7f.js";import{_ as q}from"./AppTextField.vue_vue_type_style_index_0_lang-ff2427f7.js";import{_ as g}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";import{P as H}from"./vue3-perfect-scrollbar.esm-8af4f7c1.js";import{V as c}from"./VSwitch-75acd94a.js";import{V as L}from"./VCard-c9d7cfad.js";import"./VTextField-bc742ce7.js";import"./transition-99e7ac04.js";import"./forwardRefs-6ea3df5c.js";import"./VImg-7ee89f5e.js";import"./VTooltip-1a5a6ea6.js";import"./VOverlay-39b4b039.js";import"./VSelect-9cc3df93.js";import"./VList-6df8630b.js";import"./VListItem-93d403d9.js";import"./createSimpleFunctional-c52b7322.js";import"./VAvatar-b89a8ade.js";import"./ssrBoot-93503f06.js";import"./VDivider-b868c04b.js";import"./dialog-transition-6ea18c7a.js";import"./VMenu-6ec9b18a.js";import"./VCheckboxBtn-023236ba.js";import"./VSelectionControl-e6ec7db0.js";import"./VCardText-6d82c75f.js";const Q=t("div",{class:"bg-[#fafafa] px-4 py-1"},[t("h3",{class:"font-medium text-lg text-center"},"Pos Settings")],-1),J={class:"p-4 bg-white pr-1"},W={key:0,class:"flex p-4"},G={class:"flex flex-col",style:{height:"550px !important"}},K={class:"flex flex-col gap-4 py-2"},X=t("div",{style:{"background-color":"#e5e7eb",padding:"7px","font-weight":"bold","margin-left":"-16px","margin-right":"-4px"}}," Pos ",-1),Y={id:"name"},Z={id:"main_screen",class:"flex flex-col gap-1"},ee=t("label",{for:"main_screen"},"Default Main Screen",-1),te={class:"grid grid-cols-2 p-1 bg-[#ffffff]",id:"main_screen"},se=["onClick"],le={class:"form-group"},ie={class:"flex justify-between"},oe=t("div",{class:"flex flex-col",id:"ask_for_pin_after_sale"},[t("label",{class:"text-base",for:"ask_for_pin_after_sale1"},"Ask For Pin After Sale"),t("span",{class:"text-slate-300 text-xs"}," Ask for operator authorization after sale is finished. ")],-1),ae={class:"form-group"},re={class:"flex justify-between"},ne=t("div",{class:"flex flex-col",id:"automatic_show_modifiers_modal"},[t("label",{class:"text-base",for:"automatic_show_modifiers_modal1"},"Show Added Items Modifiers"),t("span",{class:"text-slate-300 text-xs"}," Automatically shows modifiers selections screen if added to card item has ones. ")],-1),de=t("div",{style:{"background-color":"#e5e7eb",padding:"7px","font-weight":"bold","margin-left":"-16px","margin-right":"-4px"}}," Features ",-1),_e={class:"form-group"},ce={class:"flex justify-between"},me=t("div",{class:"flex flex-col",id:"enable_loading_item_for_catalog"},[t("label",{class:"text-base",for:"enable_loading_item_for_catalog1"},"Catalog"),t("span",{class:"text-slate-300 text-xs"}," Enable loading item for catalog. ")],-1),pe={class:"form-group"},fe={class:"flex justify-between"},ue=t("div",{class:"flex flex-col",id:"multiple_discounts"},[t("label",{class:"text-base",for:"multiple_discounts1"},"Multiple Discounts"),t("span",{class:"text-slate-300 text-xs"}," Allow to select several discount for Order/Item. ")],-1),xe={class:"form-group"},he={class:"flex justify-between"},ve=t("div",{class:"flex flex-col",id:"pre_check"},[t("label",{class:"text-base",for:"pre_check1"},"Pre Check"),t("span",{class:"text-slate-300 text-xs"}," Allow registers to print precheck. ")],-1),ge={class:"form-group"},be={class:"flex justify-between"},ye=t("div",{class:"flex flex-col",id:"tips"},[t("label",{class:"text-base",for:"tips1"},"Tips"),t("span",{class:"text-slate-300 text-xs"}," Allow to add tips during payment process. ")],-1),we={class:"form-group"},ke={class:"flex justify-between"},Ve=t("div",{class:"flex flex-col",id:"delivery_fees"},[t("label",{class:"text-base",for:"delivery_fees1"},"Delivery Fees"),t("span",{class:"text-slate-300 text-xs"}," Allow delivery fees. ")],-1),Se={class:"form-group"},Ce={class:"flex justify-between"},Ue=t("div",{class:"flex flex-col",id:"tax_exempt"},[t("label",{class:"text-base",for:"tax_exempt1"},"Tax Exempt"),t("span",{class:"text-slate-300 text-xs"}," If tax exemption operation available or not. ")],-1),$e={class:"form-group"},Pe={class:"flex justify-between"},Be=t("div",{class:"flex flex-col",id:"item_price_with_tax"},[t("label",{class:"text-base",for:"item_price_with_tax1"},"Item Price With Tax"),t("span",{class:"text-slate-300 text-xs"}," Show item price in cart with tax or not. ")],-1),Te=t("div",{style:{"background-color":"#e5e7eb",padding:"7px","font-weight":"bold","margin-left":"-16px","margin-right":"-4px"}}," Receipts ",-1),De={id:"printing_receipts",class:"flex flex-col gap-1"},Ae=t("label",{for:"printing_receipts"},"Printing Receipts",-1),Re={class:"grid grid-cols-4 p-1 bg-[#fafafa]",id:"printing_receipts"},je=["onClick"],Me=t("div",{style:{"background-color":"#e5e7eb",padding:"7px","font-weight":"bold","margin-left":"-16px","margin-right":"-4px"}}," Order ",-1),Fe={id:"order_prefix"},Ee={id:"order_number_max_value"},Ne=t("div",{style:{"background-color":"#e5e7eb",padding:"7px","font-weight":"bold","margin-left":"-16px","margin-right":"-4px"}}," Checkout ",-1),Oe={class:"form-group"},Ie={class:"flex justify-between"},ze=t("div",{class:"flex flex-col",id:"partial_payment"},[t("label",{class:"text-base",for:"partial_payment1"},"Partial Payment"),t("span",{class:"text-slate-300 text-xs"}," Enable partial payment option. ")],-1),qe=t("div",{style:{"background-color":"#e5e7eb",padding:"7px","font-weight":"bold","margin-left":"-16px","margin-right":"-4px"}}," Timeouts ",-1),He={id:"ideal_timeout"},Le={id:"sale_finish_timeout"},Qe={id:"cancel_timeout"},Je=t("div",{style:{"background-color":"#e5e7eb",padding:"7px","font-weight":"bold","margin-left":"-16px","margin-right":"-4px"}}," Peripheral Devices ",-1),We={class:"form-group"},Ge={class:"flex justify-between"},Ke=t("div",{class:"flex flex-col",id:"shifts_cash_drawer"},[t("label",{class:"text-base",for:"shifts_cash_drawer1"},"Shifts / Cash Drawer"),t("span",{class:"text-slate-300 text-xs"}," Allow to use cash drawer and shifts. ")],-1),Xe={class:"gap-4",style:{float:"left",padding:"4px 10px 7px 15px"}},Ye={key:1},Ze={key:1},Ct=F({__name:"index",setup(et){E("POS Settings");const b=x([]),y=x([]),f=x({}),e=S({name:"",main_screen:"categories",automatic_show_modifiers_modal:!1,ask_for_pin_after_sale:!1,enable_loading_item_for_catalog:!1,multiple_discounts:!1,pre_check:!1,tips:!1,delivery_fees:!1,tax_exempt:!1,item_price_with_tax:!1,printing_receipts:"both",order_prefix:"",order_number_max_value:1,partial_payment:!1,ideal_timeout:"",ideal_timeout_unit:"minutes",sale_finish_timeout:1,cancel_timeout:1,shifts_cash_drawer:!1}),D=[{id:2,name:"2 Minutes"},{id:5,name:"5 Minutes"},{id:15,name:"15 Minutes"},{id:30,name:"30 Minutes"},{id:1,name:"1 Hours"},{id:24,name:"24 Hours"}],A=()=>{n.reset=!0,e.name="",e.main_screen="categories",e.automatic_show_modifiers_modal=!1,e.ask_for_pin_after_sale=!1,e.enable_loading_item_for_catalog=!1,e.multiple_discounts=!1,e.pre_check=!1,e.tips=!1,e.delivery_fees=!1,e.tax_exempt=!1,e.item_price_with_tax=!1,e.printing_receipts="both",e.order_prefix="",e.order_number_max_value=1,e.partial_payment=!1,e.ideal_timeout="",e.ideal_timeout_unit="minutes",e.sale_finish_timeout=1,e.cancel_timeout=1,e.shifts_cash_drawer=!1,n.reset=!1,B.fire({icon:"success",padding:"10px",background:"#fff",html:'<span style="font-size:14px">Settings Reset Successfully!</span>'})},w=N("api"),n=S({initialData:!1,submitting:!1,reset:!1}),R=O(),k=async()=>{var r;n.initialData=!0;try{const l=await w.settings.pos.getSettings();f.value=await(l==null?void 0:l.data),b.value=f.value.mainScreens.map(function(p){return{key:p.value,title:p.name}}),y.value=f.value.printingReceiptTypes.map(function(p){return{key:p.value,title:p.name}});const s=await((r=f.value)==null?void 0:r.setting);R.setPosSettings(s),s&&(e.name=s==null?void 0:s.name,e.main_screen=s==null?void 0:s.main_screen,e.printing_receipts=s==null?void 0:s.printing_receipts,e.order_prefix=s==null?void 0:s.order_prefix,e.order_number_max_value=s==null?void 0:s.order_number_max_value,e.ideal_timeout=s==null?void 0:s.ideal_timeout,e.sale_finish_timeout=s==null?void 0:s.sale_finish_timeout,e.cancel_timeout=s==null?void 0:s.cancel_timeout,e.ask_for_pin_after_sale=!!(s!=null&&s.ask_for_pin_after_sale),e.automatic_show_modifiers_modal=!!(s!=null&&s.automatic_show_modifiers_modal),e.enable_loading_item_for_catalog=!!(s!=null&&s.enable_loading_item_for_catalog),e.pre_check=!!(s!=null&&s.pre_check),e.tips=!!(s!=null&&s.tips),e.delivery_fees=!!(s!=null&&s.delivery_fees),e.tax_exempt=!!(s!=null&&s.tax_exempt),e.item_price_with_tax=!!(s!=null&&s.item_price_with_tax),e.partial_payment=!!(s!=null&&s.partial_payment),e.multiple_discounts=!!(s!=null&&s.multiple_discounts),e.shifts_cash_drawer=!!(s!=null&&s.shifts_cash_drawer))}catch(l){console.log(l)}n.initialData=!1},d=r=>{r=="ask_for_pin_after_sale"?e.ask_for_pin_after_sale=!e.ask_for_pin_after_sale:r=="automatic_show_modifiers_modal"?e.automatic_show_modifiers_modal=!e.automatic_show_modifiers_modal:r=="enable_loading_item_for_catalog"?e.enable_loading_item_for_catalog=!e.enable_loading_item_for_catalog:r=="pre_check"?e.pre_check=!e.pre_check:r=="tips"?e.tips=!e.tips:r=="delivery_fees"?e.delivery_fees=!e.delivery_fees:r=="tax_exempt"?e.tax_exempt=!e.tax_exempt:r=="item_price_with_tax"?e.item_price_with_tax=!e.item_price_with_tax:r=="partial_payment"?e.partial_payment=!e.partial_payment:r=="multiple_discounts"?e.multiple_discounts=!e.multiple_discounts:r=="shifts_cash_drawer"&&(e.shifts_cash_drawer=!e.shifts_cash_drawer),$(r)},j=async()=>{n.submitting=!0;try{(e.ideal_timeout==1||e.ideal_timeout==24)&&(e.ideal_timeout_unit="hours"),await w.settings.pos.updateSettings(e),B.fire({icon:"success",padding:"10px",background:"#fff",html:'<span style="font-size:14px">Settings Updated Successfully!</span>'}),k()}catch(r){console.log(r)}n.submitting=!1};return k(),(r,l)=>{const s=q,p=z;return _(),h(L,{"max-height":"640",class:"d-flex flex-column"},{default:u(()=>[Q,a(o(H),{options:{wheelPropagation:!1}},{default:u(()=>{var V;return[t("div",null,[t("section",J,[o(n).initialData&&!((V=o(f))!=null&&V.setting)?(_(),m("div",W,[a(o(g),{icon:"tail-spin",class:"w-6 h-6 m-auto",color:"orange"})])):(_(),m("div",{key:1,class:v({"opacity-70":o(n).initialData&&o(f)})},[t("div",G,[t("div",K,[X,t("div",Y,[a(s,{type:"text",modelValue:o(e).name,"onUpdate:modelValue":l[0]||(l[0]=i=>o(e).name=i),label:"Name",placeholder:"Name",isRequired:!0},null,8,["modelValue"])]),t("div",Z,[ee,t("div",te,[(_(!0),m(C,null,U(o(b),i=>(_(),m("button",{class:v(["p-2 rounded text-black",o(e).main_screen===i.key?"bg-primary text-white":"bg-[#f5f5f5] text-black"]),key:i.key,onClick:M=>o(e).main_screen=i.key},T(i.title),11,se))),128))])]),t("div",le,[t("div",ie,[oe,t("div",null,[a(c,{onClick:l[1]||(l[1]=i=>d("ask_for_pin_after_sale")),class:"cursor-pointer",modelValue:o(e).ask_for_pin_after_sale,"onUpdate:modelValue":l[2]||(l[2]=i=>o(e).ask_for_pin_after_sale=i),id:"ask_for_pin_after_sale1",color:"success"},null,8,["modelValue"])])])]),t("div",ae,[t("div",re,[ne,t("div",null,[a(c,{onClick:l[3]||(l[3]=i=>d("automatic_show_modifiers_modal")),class:"cursor-pointer",modelValue:o(e).automatic_show_modifiers_modal,"onUpdate:modelValue":l[4]||(l[4]=i=>o(e).automatic_show_modifiers_modal=i),id:"automatic_show_modifiers_modal1",color:"success"},null,8,["modelValue"])])])]),de,t("div",_e,[t("div",ce,[me,t("div",null,[a(c,{onClick:l[5]||(l[5]=i=>d("enable_loading_item_for_catalog")),class:"cursor-pointer",modelValue:o(e).enable_loading_item_for_catalog,"onUpdate:modelValue":l[6]||(l[6]=i=>o(e).enable_loading_item_for_catalog=i),id:"enable_loading_item_for_catalog1",color:"success"},null,8,["modelValue"])])])]),t("div",pe,[t("div",fe,[ue,t("div",null,[a(c,{onClick:l[7]||(l[7]=i=>d("multiple_discounts")),class:"cursor-pointer",modelValue:o(e).multiple_discounts,"onUpdate:modelValue":l[8]||(l[8]=i=>o(e).multiple_discounts=i),id:"multiple_discounts1",color:"success"},null,8,["modelValue"])])])]),t("div",xe,[t("div",he,[ve,t("div",null,[a(c,{onClick:l[9]||(l[9]=i=>d("pre_check")),class:"cursor-pointer",modelValue:o(e).pre_check,"onUpdate:modelValue":l[10]||(l[10]=i=>o(e).pre_check=i),id:"pre_check1",color:"success"},null,8,["modelValue"])])])]),t("div",ge,[t("div",be,[ye,t("div",null,[a(c,{onClick:l[11]||(l[11]=i=>d("tips")),class:"cursor-pointer",modelValue:o(e).tips,"onUpdate:modelValue":l[12]||(l[12]=i=>o(e).tips=i),id:"tips1",color:"success"},null,8,["modelValue"])])])]),t("div",we,[t("div",ke,[Ve,t("div",null,[a(c,{onClick:l[13]||(l[13]=i=>d("delivery_fees")),class:"cursor-pointer",modelValue:o(e).delivery_fees,"onUpdate:modelValue":l[14]||(l[14]=i=>o(e).delivery_fees=i),id:"delivery_fees1",color:"success"},null,8,["modelValue"])])])]),t("div",Se,[t("div",Ce,[Ue,t("div",null,[a(c,{onClick:l[15]||(l[15]=i=>d("tax_exempt")),class:"cursor-pointer",modelValue:o(e).tax_exempt,"onUpdate:modelValue":l[16]||(l[16]=i=>o(e).tax_exempt=i),id:"tax_exempt1",color:"success"},null,8,["modelValue"])])])]),t("div",$e,[t("div",Pe,[Be,t("div",null,[a(c,{onClick:l[17]||(l[17]=i=>d("item_price_with_tax")),class:"cursor-pointer",modelValue:o(e).item_price_with_tax,"onUpdate:modelValue":l[18]||(l[18]=i=>o(e).item_price_with_tax=i),id:"item_price_with_tax1",color:"success"},null,8,["modelValue"])])])]),Te,t("div",De,[Ae,t("div",Re,[(_(!0),m(C,null,U(o(y),i=>(_(),m("button",{class:v(["p-2 rounded text-black",o(e).printing_receipts===i.key?"bg-primary text-white":"bg-[#f5f5f5] text-black"]),key:i.key,onClick:M=>o(e).printing_receipts=i.key},T(i.title),11,je))),128))])]),Me,t("div",Fe,[a(s,{type:"text",modelValue:o(e).order_prefix,"onUpdate:modelValue":l[19]||(l[19]=i=>o(e).order_prefix=i),label:"Order Prefix",placeholder:"Order Prefix",isRequired:!0},null,8,["modelValue"])]),t("div",Ee,[a(s,{modelValue:o(e).order_number_max_value,"onUpdate:modelValue":l[20]||(l[20]=i=>o(e).order_number_max_value=i),label:"Order Number Max Value",placeholder:"Order Number Max Value",type:"number",min:0},null,8,["modelValue"])]),Ne,t("div",Oe,[t("div",Ie,[ze,t("div",null,[a(c,{onClick:l[21]||(l[21]=i=>d("partial_payment")),class:"cursor-pointer",modelValue:o(e).partial_payment,"onUpdate:modelValue":l[22]||(l[22]=i=>o(e).partial_payment=i),id:"partial_payment1",color:"success"},null,8,["modelValue"])])])]),qe,t("div",He,[a(p,{"onUpdate:modelValue":[l[23]||(l[23]=i=>("removeError"in r?r.removeError:o($))("ideal_timeout")),l[24]||(l[24]=i=>o(e).ideal_timeout=i)],modelValue:o(e).ideal_timeout,items:D,label:"Ideal Timeout","item-title":"name","item-value":"id","form-id":"ideal_timeout",placeholder:"Select Ideal Timeout",isRequired:!0},null,8,["modelValue"])]),t("div",Le,[a(s,{modelValue:o(e).sale_finish_timeout,"onUpdate:modelValue":l[25]||(l[25]=i=>o(e).sale_finish_timeout=i),label:"Sale Finish Timeout",placeholder:"Sale Finish Timeout",type:"number",min:0},null,8,["modelValue"])]),t("div",Qe,[a(s,{modelValue:o(e).cancel_timeout,"onUpdate:modelValue":l[26]||(l[26]=i=>o(e).cancel_timeout=i),label:"Timeout operation of Canceling transaction",placeholder:"Timeout operation of Canceling transaction",type:"number",min:0},null,8,["modelValue"])]),Je,t("div",We,[t("div",Ge,[Ke,t("div",null,[a(c,{onClick:l[27]||(l[27]=i=>d("shifts_cash_drawer")),class:"cursor-pointer",modelValue:o(e).shifts_cash_drawer,"onUpdate:modelValue":l[28]||(l[28]=i=>o(e).shifts_cash_drawer=i),id:"shifts_cash_drawer1",color:"success"},null,8,["modelValue"])])])])])])],2))])])]}),_:1}),t("div",Xe,[a(P,{class:"w-[25%] mx-auto",onClick:j,disabled:o(n).initialData||o(n).submitting},{default:u(()=>[o(n).submitting?(_(),h(o(g),{key:0,icon:"tail-spin",class:"w-4 h-4",color:"white"})):(_(),m("span",Ye,"Save"))]),_:1},8,["disabled"]),I("    "),a(P,{class:"w-[25%] mx-auto bg-gray",onClick:A,disabled:o(n).reset},{default:u(()=>[o(n).reset?(_(),h(o(g),{key:0,icon:"tail-spin",class:"w-4 h-4",color:"white"})):(_(),m("span",Ze,"Reset"))]),_:1},8,["disabled"])])]),_:1})}}});export{Ct as default};
