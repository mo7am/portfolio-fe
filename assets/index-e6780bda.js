import{d as C,H as B,I as L,J as T,r as _,o as n,c as i,e as t,b as c,f as v,k as g,Q as P,ci as j,F as V,z as F,y as N,V as S,a as O,R as h}from"./index-ab2bc521.js";import{_ as R}from"./Pagination.vue_vue_type_script_setup_true_lang-6d9bdbde.js";import{_ as x}from"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";const E=Object.assign({},R),$=E,z={class:"w-3/5 m-auto"},I={class:"grid"},A={class:"flex items-center justify-between h-10 intro-x",style:{"margin-top":"30px","margin-bottom":"30px"}},D=t("p",{style:{"margin-top":"-20px"}},"Back",-1),H=t("h2",{class:"mr-5 text-lg font-medium truncate text-primary"}," Choose Tenant ",-1),J={class:"grid"},M=["onClick"],Q={style:{padding:"7px"},class:"tax-card"},U={class:"p-4 py-3 rounded-lg shadow flex items-center justify-between gap-4 bg-[#f8f7fa] dark:bg-darkmode-bg"},q={class:"meta"},G={class:"d-flex align-items-center justify-content-between"},K={class:"title"},W={class:"d-flex align-items-center gap-2"},X={key:0,class:"status",style:{color:"rgb(36 215 24)"}},Y={key:1,style:{color:"#ea5455"}},Z=t("svg",{width:"46",height:"36",viewBox:"0 0 46 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("rect",{width:"46",height:"35.1429",rx:"4",fill:"#E9F5FE"}),t("path",{d:"M20 12L26 17.5714L20 23.1429",stroke:"#2196F3","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),nt=C({__name:"index",setup(tt){const y="PPS-POS";document.title=y+" | Tenants";const r=B(),l=L(),d=T("api"),u=_([]),m=_(null),p=_({limit:10,page:1}),f=async()=>{var s,o;try{const e=await d.auth.getTenants(p.value);u.value=(s=e==null?void 0:e.data)==null?void 0:s.data,m.value=(o=e==null?void 0:e.data)==null?void 0:o.meta}catch{}},w=async s=>{r.setTenant(s);try{const o=await d.auth.getTenantById(s.id);r.setPermissions(o.data.permissions),l.push("/dashboard")}catch{}},k=()=>{l.go(-1)},b=()=>{try{const s=d.auth.logout();r.logOut(),l.push("/login")}catch(s){console.log(s)}};return f(),(s,o)=>{const e=O("RouterLink");return n(),i("div",z,[t("section",null,[t("div",I,[t("div",A,[c(e,{class:"btn btn-primary ms-2 mb-1 custom-back",to:"",onClick:k},{default:v(()=>[c(g(x),{icon:"ArrowLeft",class:"w-4 h-4 mr-2"}),D]),_:1}),H,c(j,{class:"bg-white text-white",onClick:b},{default:v(()=>[c(g(x),{icon:"LogOut",class:"w-4 h-4 mr-2"}),P(" Logout ")]),_:1})])])]),t("section",null,[t("div",J,[(n(!0),i(V,null,F(u.value,a=>(n(),i("div",{class:"rounded-full cursor-pointer hover:scale-[1.1] transition d-flex flex-column gap-3",style:{"margin-bottom":"7px"},onClick:st=>w(a)},[t("div",Q,[t("div",U,[t("div",q,[t("div",G,[t("span",K,h(a.business_name),1)])]),t("div",W,[a.status=="active"?(n(),i("div",X,h(a.status),1)):(n(),i("div",Y,h(a.status),1)),Z])])])],8,M))),256))]),m.value&&u.value.length?(n(),i("div",{key:0,class:N(["mt-8 flex m-auto",{"opacity-0":!1}])},[c(g($),{onPageChanged:o[0]||(o[0]=a=>{p.value.page=a,f()}),meta:m.value,class:"w-full sm:w-auto sm:mr-auto"},null,8,["meta"])])):S("",!0)])])}}});export{nt as default};
