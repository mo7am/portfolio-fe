import{_ as B}from"./Pagination.vue_vue_type_script_setup_true_lang-6d9bdbde.js";import{d as V,cP as b,J as C,r as u,w as g,o as a,c as o,k as n,b as m,F as S,z as E,y as N,V as T,bq as $,e as i,R,M as v,cR as F}from"./index-ab2bc521.js";import{_ as x}from"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";import{p as j}from"./placeholder-998ebc73.js";import{_ as z}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";const L={key:0,class:"flex p-8"},M={key:1,class:"grid brands-grid gap-4 max-h-[450px] overflow-auto"},q=i("div",{class:"absolute top-0 left-0"},null,-1),A={class:"flex"},G=["src"],J={class:"flex flex-col"},O={class:"dark:text-white"},H={class:"flex justify-between items-center gap-2 w-full"},K=i("span",{class:"text-slate-300 text-sm"},null,-1),Q={class:"flex gap-2 items-center"},U=["onClick"],W=["onClick"],X={key:1,class:"text-slate-400"},oe=V({__name:"index",setup(Y){const t=b(),h=C("api"),p=u(!1),f=u({}),c=u([]),_=u(1),y=u(24),w="PPS-POS";document.title=w+" | Inventory-Brands";const k=async()=>{t.setIsDeleting(!0);try{await h.inventory.brand.deleteBrand(t.getIDToEdit)!==void 0&&(F.fire({icon:"success",padding:"10px",background:"#fff",html:'<span class="text-sm">Brand Deleted Successfully!</span>'}),c.value.length==1&&_.value--,r())}catch(s){console.log(s)}t.setIsDeletePopupVisible(!1),t.setIsDeleting(!1)},D=s=>{t.setIDToEdit(s),t.setIsPopupVisible(!0)},I=s=>{t.setIDToEdit(s),t.setIsDeletePopupVisible(!0)},r=async()=>{var s,d;p.value=!0;try{const l=t.getSearchValue;l!=""&&(_.value=1);const e=await h.inventory.brand.getBrands({search:l,page:_.value,limit:y.value});c.value=await((s=e==null?void 0:e.data)==null?void 0:s.data),f.value=await((d=e==null?void 0:e.data)==null?void 0:d.meta)}catch(l){console.log(l)}p.value=!1};return r(),g(()=>t.getSearchValue,()=>{r()}),g(()=>t.getIsGetData,()=>{r()}),g(()=>t.getIsDeleteRecord,()=>{k()}),(s,d)=>{const l=$("can");return a(),o("section",null,[n(p)?(a(),o("div",L,[m(n(z),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])):(a(),o("div",M,[n(c).length?(a(!0),o(S,{key:0},E(n(c),e=>(a(),o("div",{class:"relative p-2 shadow bg-white dark:bg-surface rounded gap-2 w-full grid brand-grid",key:e.id},[q,i("div",A,[i("img",{src:e!=null&&e.logo?e.logo:n(j),class:"w-[40px] h-[40px] rounded m-auto"},null,8,G)]),i("div",J,[i("h3",O,R((e==null?void 0:e.name)||"N/A"),1),i("div",H,[K,i("div",Q,[v((a(),o("button",{class:"cursor-pointer",type:"button",onClick:P=>D(e.id)},[m(x,{icon:"Edit",class:"w-4 h-4"})],8,U)),[[l,"edit-brand"]]),v((a(),o("button",{class:"cursor-pointer",type:"button",onClick:P=>I(e.id)},[m(x,{icon:"Trash2",class:"w-4 h-4 text-danger"})],8,W)),[[l,"delete-brand"]])])])])]))),128)):(a(),o("div",X,"No Records Found!"))])),n(f)&&n(c).length?(a(),o("div",{key:2,class:N(["mt-8 flex m-auto",{"opacity-0":n(p)}])},[m(B,{onPageChanged:d[0]||(d[0]=e=>{_.value=e,r()}),meta:n(f),class:"w-full sm:w-auto sm:mr-auto"},null,8,["meta"])],2)):T("",!0)])}}});export{oe as default};
