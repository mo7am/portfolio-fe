import{m as M,a as Q,b as U,c as X,d as Y,e as Z,f as $,u as ee,p as ae,g as te,h as oe,i as se,j as le,k as re,l as de,n as S,o as h,q as y,r as D}from"./VDataTable-1136d52c.js";import{c3 as ue,co as ne,p as i,E as o,cO as ce,c9 as ie,v as ge,b as s,F as me,O as g}from"./index-ab2bc521.js";const ve=ue({itemsLength:{type:[Number,String],required:!0},...M(),...Q(),...U()},"VDataTableServer"),Te=ne()({name:"VDataTableServer",props:ve(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,f){let{emit:pe,slots:a}=f;const{groupBy:d}=X(e),{sortBy:l,multiSort:x,mustSort:V}=Y(e),{page:u,itemsPerPage:c}=Z(e),w=i(()=>parseInt(e.itemsLength,10)),{columns:m,headers:B}=$(e,{groupBy:d,showSelect:o(e,"showSelect"),showExpand:o(e,"showExpand")}),{items:n}=ee(e,m),{toggleSort:v}=ae({sortBy:l,multiSort:x,mustSort:V,page:u}),{opened:I,isGroupOpen:k,toggleGroup:E,extractRows:F}=te({groupBy:d,sortBy:l}),{pageCount:G,setItemsPerPage:R}=oe({page:u,itemsPerPage:c,itemsLength:w}),{flatItems:p}=se(n,d,I),{isSelected:H,select:N,selectAll:O,toggleSelect:_,someSelected:C,allSelected:L}=le(e,{allItems:n,currentPage:n}),{isExpanded:q,toggleExpand:j}=re(e),A=i(()=>F(n.value));de({page:u,itemsPerPage:c,sortBy:l,groupBy:d,search:o(e,"search")}),ge("v-data-table",{toggleSort:v,sortBy:l}),ce({VDataTableRows:{hideNoData:o(e,"hideNoData"),noDataText:o(e,"noDataText"),loading:o(e,"loading"),loadingText:o(e,"loadingText")}});const t=i(()=>({page:u.value,itemsPerPage:c.value,sortBy:l.value,pageCount:G.value,toggleSort:v,setItemsPerPage:R,someSelected:C.value,allSelected:L.value,isSelected:H,select:N,selectAll:O,toggleSelect:_,isExpanded:q,toggleExpand:j,isGroupOpen:k,toggleGroup:E,items:A.value,groupedItems:p.value,columns:m.value,headers:B.value}));ie(()=>{const[W]=S.filterProps(e),[z]=h.filterProps(e),[J]=y.filterProps(e),[K]=D.filterProps(e);return s(D,g({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},K),{top:()=>{var r;return(r=a.top)==null?void 0:r.call(a,t.value)},default:()=>{var r,b,P,T;return a.default?a.default(t.value):s(me,null,[(r=a.colgroup)==null?void 0:r.call(a,t.value),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(h,g(z,{sticky:e.fixedHeader}),a)]),(b=a.thead)==null?void 0:b.call(a,t.value),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a.body?a.body(t.value):s(y,g(J,{items:p.value}),a)]),(P=a.tbody)==null?void 0:P.call(a,t.value),(T=a.tfoot)==null?void 0:T.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):s(S,W,{prepend:a["footer.prepend"]})})})}});export{Te as V};
