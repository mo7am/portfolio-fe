import{d as E,cP as O,J as S,r as m,w as h,o as t,c as o,k as n,b as f,F as $,z as F,y as z,V as b,bq as N,e as l,h as B,R as g,cZ as R,M as k,cR as j}from"./index-ab2bc521.js";import{_ as L}from"./Pen.vue_vue_type_script_setup_true_lang-e939210f.js";import{_ as M}from"./CategoryFlag.vue_vue_type_script_setup_true_lang-8aef339c.js";import{_ as q}from"./Pagination.vue_vue_type_script_setup_true_lang-6d9bdbde.js";import{_ as G}from"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";import{_ as J}from"./LoadingIcon.vue_vue_type_script_setup_true_lang-2352b216.js";const Z={key:0,class:"flex p-4"},A={key:1,class:"grid max-h-[450px] overflow-auto"},H={key:0,class:"flex flex-col gap-4"},K={class:"absolute top-0 left-0"},Q={class:"flex flex-col justify-between h-full"},U={class:"font-medium text-base"},W={class:"h-fit my-auto flex items-center gap-4"},X={class:"text-xs text-slate-400 flex items-center gap-1"},Y={class:"text-sm text-slate-800",style:{"margin-top":"-1px"}},T={key:0,class:"status",style:{color:"rgb(36 215 24)"}},ee={key:1,style:{color:"#ea5455"}},te={class:"flex gap-2"},se=["onClick"],ae=["onClick"],oe={key:1,class:"text-slate-400"},me=E({__name:"index",setup(ne){const s=O(),y=S("api"),_=m(!1),v=m({}),r=m([]),p=m(1),w=m(7),D="PPS-POS";document.title=D+" | Inventory-Order Types";const I=async()=>{s.setIsDeleting(!0);try{await y.inventory.ordertype.deleteOrderType(s.getIDToEdit)!==void 0&&(j.fire({icon:"success",padding:"10px",background:"#fff",html:'<span class="text-sm">Order Type Deleted Successfully!</span>'}),r.value.length==1&&p.value--,d())}catch(a){console.log(a)}s.setIsDeletePopupVisible(!1),s.setIsDeleting(!1)},P=a=>{s.setIDToEdit(a),s.setIsPopupVisible(!0)},C=a=>{s.setIDToEdit(a),s.setIsDeletePopupVisible(!0)},d=async()=>{var a,u;_.value=!0;try{const c=s.getSearchValue;c!=""&&(p.value=1);const i=await y.inventory.ordertype.getOrderTypes({search:c,page:p.value,limit:w.value});r.value=await((a=i==null?void 0:i.data)==null?void 0:a.data),v.value=await((u=i==null?void 0:i.data)==null?void 0:u.meta)}catch(c){console.log(c)}_.value=!1};return d(),h(()=>s.getSearchValue,()=>{d()}),h(()=>s.getIsGetData,()=>{d()}),h(()=>s.getIsDeleteRecord,()=>{I()}),(a,u)=>{const c=M,i=L,x=N("can");return t(),o("section",null,[n(_)?(t(),o("div",Z,[f(n(J),{icon:"tail-spin",color:"orange",class:"w-8 h-8 m-auto"})])):(t(),o("div",A,[n(r).length?(t(),o("div",H,[(t(!0),o($,null,F(n(r),e=>(t(),o("div",{class:"relative px-4 py-2 flex justify-between items-center gap-4 bg-white border rounded",key:e.id},[l("div",K,[e!=null&&e.color?(t(),B(c,{key:0,color:e.color},null,8,["color"])):b("",!0)]),l("div",Q,[l("h3",U,g(e.name),1)]),l("div",W,[l("div",X,[l("div",Y,g(e.is_default?"Default":""),1),e.status=="active"?(t(),o("div",T,g(("capitalize"in a?a.capitalize:n(R))(e.status)),1)):(t(),o("div",ee,g(e.status),1))]),l("div",te,[k((t(),o("button",{type:"button",class:"bg-[#E9F5FE] rounded-sm",onClick:V=>P(e.id)},[f(i)],8,se)),[[x,"edit-order-type"]]),k((t(),o("button",{type:"button",class:"p-1 bg-danger rounded-sm",onClick:V=>C(e.id)},[f(G,{icon:"Trash2",class:"w-4 h-4 text-white"})],8,ae)),[[x,"delete-order-type"]])])])]))),128))])):(t(),o("div",oe,"No Records Found!"))])),n(v)&&n(r).length?(t(),o("div",{key:2,class:z(["mt-8 flex m-auto",{"opacity-0":n(_)}])},[f(q,{onPageChanged:u[0]||(u[0]=e=>{p.value=e,d()}),meta:n(v),class:"w-full sm:w-auto sm:mr-auto"},null,8,["meta"])],2)):b("",!0)])}}});export{me as default};
