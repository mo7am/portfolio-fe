import{_ as oe}from"./AppLoadingIndicator.vue_vue_type_script_setup_true_lang-04542fdc.js";import{d as O,r as A,t as ie,v as ne,x as re,m as le,p as de,w as Y,o as l,h as d,f as u,e as I,y as k,k as e,c as W,F as ee,z as ae,i as x,A as ce,B as te,C as me,D as pe,E as ue,G as h,H as E,I as ve,J as fe,a as se,K as T,L as he,b as C,T as ge,M as U,N as X,O as H,P as Z,Q as j,R as S,U as G,V,W as K,X as ye,Y as q,Z as be,$ as J,a0 as _e,a1 as we}from"./index-ab2bc521.js";import{_ as Ie}from"./Footer.vue_vue_type_script_setup_true_lang-557ea764.js";import{_ as Ne}from"./UserProfile.vue_vue_type_script_setup_true_lang-29bf4dea.js";import{_ as xe}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-01c6a1ae.js";import{_ as Pe,a as ke,c as Ce,b as ze,d as Le,e as Ve}from"./VerticalNavSectionTitle.vue_vue_type_script_setup_true_lang-dbc834b9.js";import{_ as $e}from"./BoxIcon.vue_vue_type_script_setup_true_lang-d6cac4eb.js";import{V as Se}from"./VCard-c9d7cfad.js";import{V as Ae}from"./VDialog-4ab52581.js";import{V as Q}from"./VNodeRenderer-ca9ffdcc.js";import{V as Oe}from"./VImg-7ee89f5e.js";import"./VAvatar-b89a8ade.js";import"./VMenu-6ec9b18a.js";import"./VOverlay-39b4b039.js";import"./forwardRefs-6ea3df5c.js";import"./transition-99e7ac04.js";import"./dialog-transition-6ea18c7a.js";import"./VList-6df8630b.js";import"./VListItem-93d403d9.js";import"./createSimpleFunctional-c52b7322.js";import"./ssrBoot-93503f06.js";import"./VDivider-b868c04b.js";import"./VBadge-4f2da90f.js";import"./Lucide.vue_vue_type_script_setup_true_lang-5dcb49e0.js";import"./VCardText-6d82c75f.js";const De=O({__name:"HorizontalNav",props:{tag:{default:"aside"},navItems:{},isOverlayNavActive:{type:Boolean},toggleIsOverlayNavActive:{}},setup(n){const t=n,v=A(),f=ie(v);ne(re,f);const c=o=>"heading"in o?Pe:"children"in o?ke:Te,r=le(),g=de(()=>{const o=r.fullPath;return o.includes("dashboard/inventory")||o.includes("dashboard/settings")||o.includes("dashboard/locations")||o.includes("dashboard/roles")||o.includes("dashboard/operators")||o.includes("dashboard/sales-list")||o.includes("dashboard/customers")||o.includes("dashboard/tapes")});return Y(()=>r.name,()=>{t.toggleIsOverlayNavActive(!1)}),(o,_)=>(l(),d(x(t.tag),{ref_key:"refNav",ref:v,class:k(["fixed mx-auto w-[100%] top-[80%] md:top-[85%] z-[1000]",{"md:top-[88%]":!e(g)}])},{default:u(()=>[I("div",{class:k(["max-w-[650px] rounded px-11 mx-auto",{"xl:max-w-[980px]":!e(g)}])},[I("ul",{class:k(["px-4 bg-white dark:bg-surface rounded shadow grid grid-cols-2 md:flex md:justify-between items-center gap-2",{"xl:w-980":e(g)}])},[(l(!0),W(ee,null,ae(o.navItems,(N,w)=>(l(),d(x(c(N)),{key:w,item:N},null,8,["item"]))),128))],2)],2)]),_:1},8,["class"]))}}),Be=O({props:{navItems:{type:Array,required:!0},horizontalNavAttrs:{type:Object,default:()=>({})}},setup(n,{slots:t}){const{width:v}=ce(),f=te(),c=A(!1),r=A(!1),g=me(c);return pe(c,r),Y(v,()=>{!f.isLessThanOverlayNavBreakpoint&&r.value&&(r.value=!1)}),()=>{var m,R,F;const o=ue(n,"horizontalNavAttrs"),{wrapper:_,wrapperProps:N,...w}=o.value,a=h(De,{isOverlayNavActive:c.value,toggleIsOverlayNavActive:g,navItems:n.navItems,...w},{"nav-header":()=>{var z;return(z=t["horizontal-nav-header"])==null?void 0:z.call(t)},"before-nav-items":()=>{var z;return(z=t["before-horizontal-nav-items"])==null?void 0:z.call(t)}}),y=h("header",{class:["layout-navbar",{"navbar-blur":f.isNavbarBlurEnabled}]},[h("div",(m=t.navbar)==null?void 0:m.call(t,{togglehorizontalOverlayNavActive:g}))]),D=h("main",{class:"layout-page-content !pb-[140px] lg:!pb-0"},h("div",{class:"page-content-container"},(R=t.default)==null?void 0:R.call(t))),B=h("footer",{class:"layout-footer"},[h("div",{class:"footer-content-container"},(F=t.footer)==null?void 0:F.call(t))]),$=h("div",{class:["layout-overlay",{visible:r.value}],onClick:()=>{r.value=!r.value}});return h("div",{class:["layout-wrapper",...f._layoutClasses]},[_?h(_,N,{default:()=>a}):a,h("div",{class:"layout-content-wrapper-horizontal"},[y,D,B]),$])}}}),Re={class:"grid grid-cols-2 gap-4 p-8"},Te=O({__name:"HorizontalNavLink",props:{item:{}},setup(n){const t=n,v=E(),c=te().isVerticalNavMini(),r=A(!1),g=ve(),o=fe("api"),_=a=>{switch(a){case"POSIcon":return Ve;case"BoxIcon":return $e;case"LayersIcon":return Le;case"VerticalDots":return ze}},N=()=>{t.item.title==="More"&&(r.value=!0)},w=a=>{if(r.value=!1,a.to==="/login")try{const y=o.auth.logout();v.logOut(),g.push("/login")}catch(y){console.log(y)}};return(a,y)=>{var $;const D=xe,B=se("RouterLink");return e(Ce)(a.item.action,a.item.subject)?(l(),W("li",{key:0,class:k(["nav-link",{disabled:a.item.disable}])},[(l(),d(x(($=a.item)!=null&&$.to?"RouterLink":"button"),H(e(ye)(a.item),{class:["flex gap-2 items-center py-4 text-base border-b-[2px] transition",{"border-transparent":!e(T)(a.item,a.$router),"border-primary":e(T)(a.item,a.$router)}],onClick:K(N,["prevent"])}),{default:u(()=>[(l(),d(x(_(a.item.icon)),{class:"w-[20px] h-[20px]",color:e(T)(a.item,a.$router)?e(he):void 0},null,8,["color"])),C(ge,{name:"transition-slide-x"},{default:u(()=>[U((l(),d(x(e(X).app.i18n.enable?"i18n-t":"span"),H({key:"title",class:"nav-item-title"},e(Z)(a.item.title,"span")),{default:u(()=>[j(S(a.item.title),1)]),_:1},16)),[[G,!e(c)]]),a.item.badgeContent?U((l(),d(x(e(X).app.i18n.enable?"i18n-t":"span"),H({key:"badge",class:["nav-item-badge",a.item.badgeClass]},e(Z)(a.item.badgeContent,"span")),{default:u(()=>[j(S(a.item.badgeContent),1)]),_:1},16,["class"])),[[G,!e(c)]]):V("",!0)]),_:1})]),_:1},16,["class"])),t.item.title==="More"?(l(),d(Ae,{key:0,modelValue:e(r),"onUpdate:modelValue":y[1]||(y[1]=m=>be(r)?r.value=m:null),width:"500"},{default:u(()=>[C(D,{onClick:y[0]||(y[0]=m=>r.value=!e(r))}),C(Se,null,{default:u(()=>[I("div",Re,[(l(!0),W(ee,null,ae(a.item.sub_links,m=>(l(),d(B,{class:k(["p-2 flex gap-2 items-center rounded cursor-pointer",{"bg-primary":e(q)(m.to,a.$router)}]),to:m.to,key:m.title,onClick:K(R=>w(m),["prevent"])},{default:u(()=>[(l(),d(x(_(m.icon)),{class:"w-[20px] h-[20px]",color:e(q)(m.to,a.$router)?"#fff":void 0},null,8,["color"])),j(" "+S(m.title),1)]),_:2},1032,["class","to","onClick"]))),128))])]),_:1})]),_:1},8,["modelValue"])):V("",!0)],2)):V("",!0)}}}),s=E();let i=[{title:"X/Z Tapes",to:"/dashboard/tapes",icon:"LayersIcon"},{title:"Locations",to:"/dashboard/locations",icon:"LayersIcon"},{title:"Settings",to:"/dashboard/settings",icon:"LayersIcon"},{title:"Sign Out",to:"/login",icon:"LayersIcon"},{title:"Customers",to:"/dashboard/customers",icon:"LayersIcon"}],p=[{title:"Dashboard",to:{name:"dashboard"},icon:"POSIcon"},{title:"Inventory",to:{name:"dashboard-inventory"},icon:"BoxIcon"},{title:"Order Transactions",to:{name:"dashboard-sales-list"},icon:"LayersIcon"},{title:"More",icon:"VerticalDots",sub_links:i}],b=p.findIndex(n=>n.title=="Inventory");s.hasPermission("manage-inventory-settings")?p[b].to={name:"dashboard-inventory-settings"}:s.hasPermission("view-category")?p[b].to={name:"dashboard-inventory-categories"}:s.hasPermission("view-product")?p[b].to={name:"dashboard-inventory-products"}:s.hasPermission("view-discount")?p[b].to={name:"dashboard-inventory-discounts"}:s.hasPermission("view-modifier")?p[b].to={name:"dashboard-inventory-modifiers"}:s.hasPermission("view-tax")?p[b].to={name:"dashboard-inventory-taxes"}:s.hasPermission("view-brand")?p[b].to={name:"dashboard-inventory-brands"}:s.hasPermission("view-order-type")?p[b].to={name:"dashboard-inventory-order-types"}:p.splice(b,1);let He=p.findIndex(n=>n.title=="Order Transactions");s.hasPermission("view-order")||p.splice(He,1);if(!s.hasPermission("view-customer")){let n=i.findIndex(t=>t.title=="Customers");i.splice(n,1)}let L=i.findIndex(n=>n.title=="X/Z Tapes");s.hasPermission("view-xz-tape-history")?i[L].to="/dashboard/tapes":s.hasPermission("view-x-tape")?i[L].to="/dashboard/tapes/x-tapes":s.hasPermission("view-z-tape")?i[L].to="/dashboard/tapes/z-tapes":s.hasPermission("view-x-tape_by_operator")?i[L].to="/dashboard/tapes/x-operator-tapes":i.splice(L,1);let P=i.findIndex(n=>n.title=="Settings");s.hasPermission("manage-pos-settings")?i[P].to="/dashboard/settings":s.hasPermission("view-tip")&&s.getPosSettings.tips!=0?i[P].to="/dashboard/settings/tips":s.hasPermission("view-delivery-presets")&&s.getPosSettings.delivery_fees!=0?i[P].to="/dashboard/settings/delivery-presets":s.hasPermission("view-receipt")?i[P].to="/dashboard/settings/receipts":s.hasPermission("view-reason")?i[P].to="/dashboard/settings/refund-reasons":i.splice(P,1);let M=i.findIndex(n=>n.title=="Locations");s.hasPermission("view-user")?i[M].to="/dashboard/operators":s.hasPermission("view-roles")?i[M].to="/dashboard/roles":i.splice(M,1);const je=p,Me={class:"flex h-100 justify-between items-center"},We={class:"flex justify-between"},Ee={class:"flex justify-end gap-4"},fa=O({__name:"DefaultLayoutWithHorizontalNav",setup(n){const t=E(),v=t.getIsAdmin,f=t.getIsEmulation,c=t.getTenant;return(r,g)=>{const o=se("RouterLink"),_=oe;return l(),d(e(Be),{"nav-items":e(je)},{navbar:u(({toggleHorizontalOverlayNavActive:N})=>[I("div",{class:k(e(v)&&e(f)==1?"navbar-content-container":"")},[I("div",Me,[e(c)&&e(v)&&e(f)==1?(l(),d(o,{key:0,to:"/admin/dashboard"},{default:u(()=>[C(e(Q),{class:"w-[100px] h-[30px]",nodes:e(J).app.logo},null,8,["nodes"])]),_:1})):(l(),d(e(Q),{key:1,class:"w-[100px] h-[30px]",nodes:e(J).app.logo},null,8,["nodes"])),e(c)&&e(v)&&e(f)==1?(l(),d(o,{key:2,to:"/admin/merchants"},{default:u(()=>{var w;return[I("div",We,[(w=e(c))!=null&&w.logo?(l(),d(Oe,{key:0,class:"me-2",src:e(c).logo},null,8,["src"])):(l(),d(_e,{key:1,class:"me-2",icon:"tabler-building",size:"22"})),I("span",null,S(e(c).business_name),1)])]}),_:1})):V("",!0),I("div",Ee,[(e(v)||!e(v))&&e(f)==0?(l(),d(Ne,{key:0})):V("",!0)])])],2)]),footer:u(()=>[C(Ie)]),default:u(()=>[C(_,{ref:"refLoadingIndicator"},null,512),we(r.$slots,"default")]),_:3},8,["nav-items"])}}});export{fa as default};
